(function(e){function t(t){for(var a,l,s=t[0],o=t[1],c=t[2],u=0,p=[];u<s.length;u++)l=s[u],n[l]&&p.push(n[l][0]),n[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,s=1;s<i.length;s++){var o=i[s];0!==n[o]&&(a=!1)}a&&(r.splice(t--,1),e=l(l.s=i[0]))}return e}var a={},n={index:0},r=[];function l(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=a,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(i,a,function(t){return e[t]}.bind(null,a));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=o;r.push([0,"chunk-vendor-vuetify","chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"06c8":function(e,t,i){},"078c":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":e.maxWidth},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[i("v-card",[e._t("header",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._t("body",[i("v-card-text",{class:e.bodyCls},[e._v(e._s(e.text))])]),e.hasActions?i("v-card-actions",[e.hasOk&&e.hasCancel?e._e():i("v-btn",{staticClass:"mx-auto dialog-close",attrs:{color:"green darken-1",text:""},nativeOn:{click:function(t){e.showDialog=!1}}},[e._v(e._s(e.closeText))]),e.hasOk?i("v-btn",{staticClass:"mx-auto dialog-close",attrs:{color:"green darken-1",text:""},nativeOn:{click:function(t){return e.ok()}}},[e._v(e._s(e.okText))]):e._e(),e.hasCancel?i("v-btn",{staticClass:"mx-auto dialog-close",attrs:{color:"green darken-1",text:""},nativeOn:{click:function(t){return e.cancel()}}},[e._v(e._s(e.cancelText))]):e._e()],1):e._e()],2)],1)},n=[],r={name:"DraalDialog",props:{model:{required:!0},title:{type:String,required:!1},text:{type:String,required:!1},cancelText:{type:String,required:!1},okText:{type:String,required:!1},closeText:{type:String,required:!1,default:"Close"},maxWidth:{type:String,required:!1,default:"290"},bodyCls:{type:String,required:!1,default:""}},data(){return{hasCancel:!!this.cancelText,hasOk:!!this.okText,hasActions:this.hasOk||this.hasCancel||this.closeText}},computed:{showDialog:{get(){return this.model},set(){this.$emit("close-dialog")}}},methods:{cancel(){this.$emit("cancel-dialog"),this.showDialog=!1},ok(){this.$emit("ok-dialog"),this.showDialog=!1}}},l=r,s=i("2877"),o=Object(s["a"])(l,a,n,!1,null,null,null);t["a"]=o.exports},"1f68":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-wrapper-outer",class:e.classes},[i("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.required;return[i("div",{class:e.getOutlinedClasses("field-wrapper",a,n,"checkbox")},[e.outlined?i("div",{class:e.getOutlinedClasses("field-placeholder",a,n,"checkbox"),style:e.getOutlinedStyle()},[i("span",[i("v-label",[e._v(e._s(e.label))])],1)]):e._e(),i("div",{class:e.getOutlinedClasses("field-content",a,n,"checkbox")},[i("v-checkbox",{attrs:{light:"",error:e.isRequired(n),value:e.fieldValue,label:e.label,"error-messages":a},on:{change:e.inputChangeEvent},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},[e.help?i("input-help",{attrs:{slot:"append"},on:{"form-input-help":e.inputHelpEvent},slot:"append"}):e._e()],1)],1)])]}}])})],1)},n=[],r=i("e466"),l={name:"CheckboxInput",extends:r["a"]},s=l,o=(i("491d"),i("2877")),c=Object(o["a"])(s,a,n,!1,null,null,null);t["a"]=c.exports},2536:function(e,t,i){"use strict";i("29d3")},"286b":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.$attrs.dividerStart?i("div",{staticClass:"clearfix"},[i("hr",{staticClass:"form-input-divider mx-auto",class:e.$attrs.dividerStart.label?"f-div-input "+e.$attrs.dividerStart.class:"hr-simple-text "+e.$attrs.dividerStart.class,style:e.$attrs.dividerStart.style,attrs:{"data-content":e.$attrs.dividerStart.label}})]):e._e(),i(e.getType(e.$attrs.type),e._g(e._b({tag:"component",attrs:{"data-rel-input":e.dataRel.asPipe()},scopedSlots:e._u([e._l(e.slotsDef,(function(t,i){return{key:t.childSlot,fn:function(a){var n=a.data;return[e._t(t.componentSlot,null,{inputKey:i,data:n})]}}}))],null,!0)},"component",e.$attrs,!1),e.$listeners)),e.$attrs.dividerEnd?i("div",{staticClass:"clearfix"},[i("hr",{staticClass:"form-input-divider mx-auto",class:e.$attrs.dividerEnd.label?"f-div-input "+e.$attrs.dividerEnd.class:"hr-simple-text "+e.$attrs.dividerEnd.class,style:e.$attrs.dividerEnd.style,attrs:{"data-content":e.$attrs.dividerEnd.label}})]):e._e()],1)},n=[];const r="text",l="select",s="checkbox",o="switch",c="radio",d="wheel",u="file-open",p="remote-file-save",h="file-data-query",m="timeline",f="group-input",v={};function g(e){return v[e]}v[r]="TextInput",v[l]="SelectInput",v[s]="CheckboxInput",v[o]="SwitchInput",v[c]="RadioInput",v[d]="WheelInput",v[u]="FileOpenInput",v[p]="RemoteFileSaveInput",v[h]="FileQueryInput",v[m]="TimelineInput",v[f]="GroupInput";var b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("v-text-field",e._b({class:e.classes,attrs:{"error-messages":a,label:e.label,placeholder:e.placeholder},on:{input:e.inputChangeEvent},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"v-text-field",e.inputAttrs,!1),[e.help?i("input-help",{attrs:{slot:"append-outer"},on:{"form-input-help":e.inputHelpEvent},slot:"append-outer"}):e._e()],1)]}}])})},y=[],x=i("e466"),_={name:"TextInput",extends:x["a"]},D=_,w=i("2877"),C=Object(w["a"])(D,b,y,!1,null,null,null),k=C.exports,S=i("a210"),A=i("1f68"),O=i("c7a6"),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-wrapper-outer",class:e.classes},[i("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.required;return[i("div",{class:e.getOutlinedClasses("field-wrapper",a,n)},[i("div",{class:e.getOutlinedClasses("field-content",a,n)},[i("v-radio-group",{staticClass:"mt-1",class:e.classes,attrs:{light:"",value:e.fieldValue,error:e.isRequiredRadio(n),label:e.label,"error-messages":a},on:{change:e.inputChangeEvent},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},[e.help?i("input-help",{attrs:{slot:"append"},on:{"form-input-help":e.inputHelpEvent},slot:"append"}):e._e(),e._l(e.data,(function(e,t){return i("v-radio",{key:t,attrs:{label:e.label,value:t}})}))],2)],1)])]}}])})],1)},E=[],$=i("4d42"),T={name:"RadioInput",extends:x["a"],props:{data:$["c"]}},q=T,j=(i("934e"),Object(w["a"])(q,I,E,!1,null,"753cd36a",null)),V=j.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ValidationObserver",[i("ValidationProvider",{ref:"provider",attrs:{name:e.name,rules:e.inputRules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("v-text-field",e._b({class:"file-input "+e.classes,attrs:{"error-messages":a,label:e.label,placeholder:e.placeholder,readonly:!0,loading:e.loading},on:{click:e.clicked,input:e.inputChangeEvent,dragenter:function(t){return e.setDragging(!0)},dragend:function(t){return e.setDragging(!1)},dragleave:function(t){return e.setDragging(!1)},dragover:function(e){e.preventDefault()},drop:e.drop},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"v-text-field",e.inputAttrs,!1),[e.dragging?i("v-progress-linear",{attrs:{slot:"progress",value:100,color:e.draggingColor,absolute:"",height:"5"},slot:"progress"}):e._e(),e.help?i("input-help",{attrs:{slot:"append-outer"},on:{"form-input-help":e.inputHelpEvent},slot:"append-outer"}):e._e(),i("draal-file-drop",{attrs:{slot:"append",title:e.dropTitle||e.$t("form.remoteInputDropTitle")},on:{fileDrop:e.onDrop},slot:"append"})],1)]}}])}),i("ValidationProvider",{staticClass:"d-none",attrs:{name:"duration"}},[i("v-text-field",{model:{value:e.mediaDuration,callback:function(t){e.mediaDuration=t},expression:"mediaDuration"}})],1),e.wavAudioRule?i("audio",{ref:"audio",attrs:{src:e.fileSrc}}):e._e(),i("draal-file-dialog",{on:{"file-select":e.onDrop},model:{value:e.fileDialog,callback:function(t){e.fileDialog=t},expression:"fileDialog"}})],1)},R=[],M=i("1da1"),L=i("7bb1"),F=i("2d7a"),N=i("fe10");const z={extends:x["a"],components:{ValidationObserver:L["a"],DraalFileDrop:F["a"],DraalFileDialog:N["a"]},props:{dropTitle:$["f"],wavAudioRule:{type:Boolean,required:!1,default:!1},fileObject:{type:Boolean,required:!1,default:!1},loadingColor:{type:String,required:!1,default:"primary"}},data(){const e=!!window.require,t=this.value&&this.value.fileName||this.value,i=this.value&&this.value.duration||null,a=this.wavAudioRule?this.rules+"|wavaudio:@duration":this.rules;return{fieldValue:t,canDrop:e,mediaDuration:i,fileDialog:!1,inputRules:a,fileSrc:null}},created(){this.fieldValueInt=this.fieldValue},mounted(){this.$refs.audio&&this.wavAudioRule&&(this.$refs.audio.onloadeddata=()=>{this.$refs.audio.readyState>=2&&(this.setMediaDuration(this.$refs.audio),URL.revokeObjectURL(this.fileSrc),this.fileSrc=null)},this.$refs.audio.onerror=()=>{this.setMediaError(),URL.revokeObjectURL(this.fileSrc),this.fileSrc=null})},methods:{onDrop(e){e.length&&(this.setInput(e[0].path||e[0].name,e[0]),this.wavAudioRule?(this.loading=this.loadingColor,this.fileSrc=URL.createObjectURL(e[0])):this.sendInputEvent())},setInput(e,t){this.fieldValueInt=e,this.file=t},clicked(){this.fileDialog=!0},sendInputEvent(){this.fieldValue=this.fieldValueInt;const e=this.wavAudioRule||this.fileObject?{fileName:this.fieldValue}:this.fieldValue;this.wavAudioRule&&(e.duration=this.mediaDuration),this.fileObject&&(e.file=this.file),this.inputChangeEvent(e)},setMediaDuration(e){var t=this;return Object(M["a"])((function*(){let i=e.duration;t.loading=!1,t.mediaDuration=parseFloat(i.toFixed(1),10),t.sendInputEvent(),t.validateInput()}))()},setMediaError(){var e=this;return Object(M["a"])((function*(){e.loading=!1,e.mediaDuration=null,e.sendInputEvent(),e.validateInput()}))()}}};var U={name:"FileOpenInput",mixins:[z]},W=U,B=Object(w["a"])(W,P,R,!1,null,null,null),H=B.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("v-text-field",e._b({class:"file-input "+e.classes,attrs:{"error-messages":a,label:e.label,placeholder:e.placeholder,loading:e.loading},on:{click:e.clicked,input:e.inputChangeEvent,dragenter:function(t){return e.setDragging(!0)},dragend:function(t){return e.setDragging(!1)},dragleave:function(t){return e.setDragging(!1)},dragover:function(e){e.preventDefault()},drop:e.drop},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"v-text-field",e.inputAttrs,!1),[e.dragging?i("v-progress-linear",{attrs:{slot:"progress",value:100,color:e.draggingColor,absolute:"",height:"5"},slot:"progress"}):e._e(),e.help?i("input-help",{attrs:{slot:"append-outer"},on:{"form-input-help":e.inputHelpEvent},slot:"append-outer"}):e._e(),i("draal-file-drop",{attrs:{slot:"append",title:e.dropTitle||e.$t("form.remoteInputDropTitle")},on:{fileDrop:e.onDrop},slot:"append"})],1)]}}])})},Z=[],K={name:"RemoteFileSaveInput",mixins:[z],methods:{clicked(){if(this.canDrop){const e=window.require("electron"),t=e.ipcRenderer;t.send("save-modal",this.name),t.on("save-file",(e,t)=>{t.name===this.name&&(this.setInput(t.file),this.sendInputEvent())})}}}},Y=K,J=Object(w["a"])(Y,G,Z,!1,null,null,null),Q=J.exports,X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-input file-query-input-wrapper"},[i("div",{staticClass:"file-query-input"},[i("ValidationObserver",{ref:"observer"},[i("div",{staticClass:"row m-0 first-row"},[i("div",{staticClass:"col-sm p-0"},[i("ValidationProvider",{ref:"provider",attrs:{name:e.name,rules:e.inputRules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("v-text-field",e._b({class:e.outlined?"file-input outlined":" file-input no-outlined",attrs:{"error-messages":a,label:e.label,placeholder:e.placeholder,readonly:!0,loading:e.loading},on:{click:function(t){e.fileDialog=!0},dragenter:function(t){return e.setDragging(!0)},dragend:function(t){return e.setDragging(!1)},dragleave:function(t){return e.setDragging(!1)},dragover:function(e){e.preventDefault()},drop:e.drop},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"v-text-field",e.inputAttrs,!1),[e.dragging?i("v-progress-linear",{attrs:{slot:"progress",value:100,color:e.draggingColor,absolute:"",height:"5"},slot:"progress"}):e._e(),e.help?i("input-help",{attrs:{slot:"append-outer"},on:{"form-input-help":e.inputHelpEvent},slot:"append-outer"}):e._e(),i("draal-file-drop",{attrs:{slot:"append",title:e.dropTitle||e.$t("form.remoteInputDropTitle")},on:{fileDrop:e.onDrop},slot:"append"})],1)]}}])})],1)]),e.fieldValue?i("div",{class:e.secondRowCls},[i("div",{staticClass:"col-sm pb-0"},[e.listData.length?i("ValidationProvider",{attrs:{name:"selected"}},[i("select-input",e._b({attrs:{classes:" ",placeholder:e.selectPlaceholder,value:e.selectedData,data:e.listData,name:"select-list",label:e.selectLabel,"data-key":e.dataKey,rules:"required",autocomplete:!0},on:{input:e.setSelectedData}},"select-input",e.inputAttrs,!1))],1):e._e()],1),i("div",{staticClass:"col-sm pb-0"},[e.customId?i("ValidationProvider",{attrs:{name:"custom",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[i("v-text-field",e._b({attrs:{label:e.customLabel,"error-messages":a,placeholder:e.customPlaceholder},on:{input:e.setCustomValue},model:{value:e.customValue,callback:function(t){e.customValue=t},expression:"customValue"}},"v-text-field",e.inputAttrs,!1))]}}],null,!1,636992800)}):e._e()],1)]):e._e(),i("div",{class:e.spinnerRowCls},[i("draal-spinner",{class:["float-left ml-1",e.outlined?"outlined":"no-outlined"],attrs:{state:e.processing,width:"40",height:"40",type:"spinner-3"}})],1),i("draal-file-dialog",{on:{"file-select":e.onDrop},model:{value:e.fileDialog,callback:function(t){e.fileDialog=t},expression:"fileDialog"}})],1)],1)])},ee=[],te=(i("ac6a"),i("5fe1")),ie={name:"FileQueryInput",extends:x["a"],components:{ValidationObserver:L["a"],SelectInput:S["a"],DraalFileDrop:F["a"],DraalFileDialog:N["a"],DraalSpinner:te["a"]},props:{dataKey:$["d"],dropTitle:$["f"],selectKey:{type:String,required:!1,default:null},selectPlaceholder:{type:String,required:!0},selectLabel:{type:String,required:!0},customPlaceholder:{type:String,required:!0},customLabel:{type:String,required:!0},dataQuery:{type:Function,required:!0},queryRule:{type:String,required:!1,default:null}},data(){const e=this.rules||"",t=`${e}|${this.queryRule}:@selected,@custom`,i=this.value?this.value.file:null,a=this.value?this.value.listData:[],n=this.value?this.value.selected:null,r=this.value?this.value.custom:null,l=r;return{fieldValue:i,fileDialog:!1,inputRules:t,listData:a,selectedData:n,customId:l,customValue:r,processing:!1}},computed:{secondRowCls(){const e=["row second-row"];return this.fieldValue||e.push("d-none"),this.outlined?e.push("outlined"):e.push("no-outlined"),e.join(" ")},spinnerRowCls(){const e=["row spinner-wrapper"];return this.processing||e.push("d-none"),e.join(" ")}},methods:{onDrop(e){if(e.length){const t=e[0];this.customId=!1,this.processing=!0,this.fileDialog=!1,this.fieldValue=t.path||t.name,this.listData.splice(0,this.listData.length),this.selectedData=null,this.customValue=null,this.customId=!1,this.validateInput(),this.dataQuery(t).subscribe(e=>{this.processing=!1,e.forEach(e=>this.listData.push(e)),this.validateInput()},e=>{this.processing=!1,this.sendInputEvent(),this.validateInput();const t={};t[this.name]=e,setTimeout(()=>this.$refs.observer.setErrors(t),100)})}},setSelectedData(e){this.customValue=null,this.selectedData=e,this.validateInput(),e&&!0===e.custom?this.customId=!0:(this.customId=!1,this.sendInputEvent())},setCustomValue(e){this.customValue=e,this.sendInputEvent(),this.validateInput()},sendInputEvent(){const e=this.customValue||(this.selectedData?this.selectedData[this.selectKey]:null),t={file:this.fieldValue,listData:this.listData,selected:this.selectedData,custom:this.customValue,value:e};this.inputChangeEvent(t)}}},ae=ie,ne=Object(w["a"])(ae,X,ee,!1,null,null,null),re=ne.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-wrapper-outer",class:e.classes},[i("div",{class:e.getOutlinedClasses("field-wrapper")},[e.outlined?i("div",{class:e.getOutlinedClasses("field-placeholder"),style:e.getOutlinedStyle()},[i("span",[i("v-label",[e._v(e._s(e.label))])],1)]):i("div",{staticClass:"clearfix"},[i("div",{staticClass:"float-left pl-0"},[i("v-label",[e._v(e._s(e.label))])],1)]),i("div",{class:e.getOutlinedClasses("field-content")},[i("div",{staticClass:"timeline-content"},[i("ValidationProvider",{attrs:{rules:"required"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.dummyModel,expression:"dummyModel"}],staticClass:"d-none",attrs:{type:"number"},domProps:{value:e.dummyModel},on:{input:function(t){t.target.composing||(e.dummyModel=t.target.value)}}})]),i("draal-timeline",{attrs:{timeData:e.value,timelineWidths:e.timelineWidths,itemCreator:e.accessMethods.new,tableConfig:e.tableConfig,maxZoom:e.maxZoom,"data-provider":e.dataRelInput,customSlots:e.customSlots,toolbarIconSize:e.toolbarIconSize,help:e.help},on:{input:e.saveTimeline,timelineChanged:function(t){e.dummyModel=null},help:function(t){return e.$emit("form-input-help",e.name)}},scopedSlots:e._u([e._l(e.customRender,(function(t,i){return{key:t.childSlot,fn:function(a){var n=a.data;return[e._t(t.componentSlot,null,{inputKey:i,data:n})]}}})),{key:"editDialog",fn:function(t){var a=t.componentKey,n=t.editData,r=t.editChanges;return[e._t(e.editSlot,[i("wheel-input",{key:a,attrs:{name:"",label:"",placeholder:"",value:n,zoomtransform:1},on:{input:function(t){return e.saveEditedValues(n,t,r)}}})],{data:{save:function(t){return e.saveEditedValues(n,t,r)},source:n}})]}}],null,!0)})],1)])])])},se=[],oe=i("639e"),ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:"--thumb: "+e.timelineScrollColor+"; --thumbHover: "+e.timelineScrollHoverColor},[i("div",{staticClass:"row m-0 pl-0 pt-0 pr-0 timeline-toolbar"},[i("div",{staticClass:"col-sm-9 pl-0"},[e.leftToolbar?i("div",{class:e.toolbarClasses},[e._t("table.toolbar-left",null,{data:{add:e.addItem}})],2):e._e()]),i("div",{staticClass:"col-sm pr-0"},[i("div",{staticClass:"ml-auto timeline-toolbar-right",class:e.toolbarClasses},[i("div",{staticClass:"clearfix"},[i("div",{staticClass:"float-right"},[e._t("table.toolbar-right.add",[i("draal-tooltip",e._b({attrs:{name:e.$t("timeline.new"),icon:"mdi-plus"},on:{clicked:function(t){return e.addItem()}}},"draal-tooltip",e.toolIconAttrs,!1))],{data:{add:e.addItem}}),e.saveOnEdit?e._e():i("draal-tooltip",e._b({attrs:{name:e.hasChanges?e.$t("timeline.unsaved"):e.$t("timeline.save"),"icon-color":e.hasChanges?"red":"",icon:"mdi-content-save-outline"},on:{clicked:e.sendTimelineEvent}},"draal-tooltip",e.toolIconAttrs,!1)),i("draal-tooltip",e._b({attrs:{name:e.$t("timeline.zoomin"),icon:"mdi-magnify-plus-outline"},on:{clicked:function(t){return e.setZoom(1)}}},"draal-tooltip",e.toolIconAttrs,!1)),i("draal-tooltip",e._b({attrs:{name:e.$t("timeline.zoomout"),icon:"mdi-magnify-minus-outline"},on:{clicked:function(t){return e.setZoom(-1)}}},"draal-tooltip",e.toolIconAttrs,!1)),e.help?i("draal-tooltip",e._b({attrs:{name:e.$t("timeline.info"),icon:"mdi-information-outline"},on:{clicked:function(t){return e.$emit("help")}}},"draal-tooltip",e.toolIconAttrs,!1)):e._e(),e._t("table.toolbar-right"),e.timelineMenuWidths.length>1?i("draal-tooltip",{attrs:{name:e.$t("timeline.lengthMenu"),position:e.toolbarTooltipPosition},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.on;return[i("draal-menu",{attrs:{menuItems:e.actions,menuAttrs:{left:!0,"offset-y":!0,absolute:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.on;return[i("v-icon",e._g(e._b({},"v-icon",e.timelineMenuWidthAttrs,!1),Object.assign({},n,a)),[e._v("mdi-dots-vertical")])]}}],null,!0)})]}}],null,!1,2109695338)}):e._e()],2)])])])]),e.mounted?i("div",{key:e.durationUpdated,staticClass:"row scrolling-wrapper"},[i("div",{ref:"timeline",staticClass:"timeline"},[i("div",[i("draal-ruler",{key:e.rulerRender,attrs:{zoom:e.zoom,rulerWidth:e.timelineWidth},on:{resize:e.renderTimeline,"zoom-level":function(t){return e.zoom=t}}})],1),i("div",{key:e.timelineRender},e._l(e.filteredTimelineMarkers,(function(t){return i("draal-timeline-item",{key:t.$id,attrs:{index:t.$id,position:t.position,clicked:t.$clicked,timelinelen:e.timelineWidth,zoom:e.zoom},on:{highlightstop:e.highlightStop,timelinepos:e.positionUpdate,edit:e.timelineEdit,move:e.moveTimeEntry}})})),1)])]):e._e(),i("div",{staticClass:"row mt-3"},[i("draal-data-table",e._b({key:e.tableRender,staticClass:"w-100",class:{noselect:e.moving},attrs:{ondragstart:"return false",data:e.timelines,tableAttributes:{"item-key":"$id"},"data-filtering":e.filterStatus},on:{"row-click":e.handleClick,"data-edit":e.editAction,"data-delete":e.deleteAction,"data-filter":e.setTimelineMarkerFilter},scopedSlots:e._u([e._l(e.customRenderColumns,(function(t,i){return{key:t,fn:function(a){var n=a.data;return[e._t(t,null,{colunmKey:i,data:n})]}}}))],null,!0)},"draal-data-table",e.tableConfig,!1))],1),i("draal-dialog",{attrs:{maxWidth:e.dialogWidth,model:e.editDialog},on:{"close-dialog":e.closeDialog},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"headline pt-3"},[e._v(e._s(e.editText))])]},proxy:!0},{key:"body",fn:function(){return[e._t("editDialog",null,{componentKey:e.dialogKey,editData:e.dialogEditData,editChanges:e.dialogEditChanges})]},proxy:!0}],null,!0)})],1)},de=[],ue=(i("55dd"),i("be94")),pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{ref:"timelineparent"}),e.eventPosition<=1?i("div",[i("div",{ref:"timeline",staticClass:"timeline-entry",class:{"timeline-highlight":e.isClicked,noselect:e.isMoving},attrs:{ondragstart:"return false"},on:{contextmenu:function(t){return t.preventDefault(),e.showContextMenu(t)}}},[e.mousedown?i("div",{staticClass:"noselect timeline-entry-pos-text"},[e._v(e._s(e.timestamp))]):e._e(),i("div",{staticClass:"mt-3"},[i("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({staticClass:"menu"},a))]}}],null,!1,4254218400),model:{value:e.menuOpened,callback:function(t){e.menuOpened=t},expression:"menuOpened"}},[i("v-list",e._l(e.items,(function(t,a){return i("v-list-item",{key:a,on:{click:t.fn}},[i("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1)])]):e._e()])},he=[],me=i("6e77"),fe=i("69dd"),ve=i("1a2d"),ge=i("8ef6"),be={name:"DraalTimelineItem",props:{position:{type:Number,required:!0},index:{type:Number,required:!0},clicked:{type:Boolean,required:!1,default:!1},timelinelen:{type:Number,required:!0},clickedTimeout:{type:Number,required:!1,default:3e3},editText:{type:String,required:!1,default:"Edit"},zoom:{type:Number,required:!1,default:1},moveDiffTop:{type:Number,required:!1,default:50},moveDiffBottom:{type:Number,required:!1,default:50}},data(){return{menuOpened:!1,mousedown:!1,timestamp:this.position,eventPosition:0,isClicked:this.clicked,isMoving:!1}},mounted(){this.setTimeout(),this.timelineWidth=this.parentOffsetWidth(),this.renderTimePos(),Object(me["a"])(this.$refs.timeline,"mousedown").pipe(Object(fe["a"])(),Object(ve["a"])(50),Object(ge["a"])(()=>!1===this.destroy)).subscribe(this.mouseDown),Object(me["a"])(window,"mouseup").pipe(Object(fe["a"])(),Object(ge["a"])(()=>!1===this.destroy)).subscribe(this.mouseUp)},created(){this.destroy=!1,this.mousedown=!1},beforeDestroy(){this.destroy=!0,this.clearTimeout()},computed:{items(){return[{title:this.editText,fn:()=>this.editEvent(this.index)}]}},methods:{clearTimeout(){this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=null)},setTimeout(){this.clicked&&(this.clearTimeout(),this.timeOut=setTimeout(()=>{this.isClicked=!1,this.$emit("highlightstop",this.index)},this.clickedTimeout))},editEvent(e){this.$emit("edit",e)},parentOffsetWidth(){return this.zoom*this.$refs.timelineparent.offsetWidth},parentPos(){return this.$refs.timelineparent.getBoundingClientRect().left},renderTimePos(){this.eventPosition=this.timestamp/this.timelinelen;const e=this.eventPosition*this.timelineWidth;this.$refs.timeline.style.marginLeft=e+"px"},moveTimeline(e){if(this.mousedown){e.stopPropagation();const t=this.$refs.timeline.getBoundingClientRect(),i=t.top-this.moveDiffTop,a=t.bottom+this.moveDiffBottom;if(e.clientY>=i&&e.clientY<=a){const t=e.clientX-this.parentPos();let i=t;t<0&&(i=0),t>this.timelineWidth&&(i=this.timelineWidth);const a=i/this.timelineWidth,n=this.timelinelen*a;this.timestamp=parseFloat(n.toFixed(1),10),this.renderTimePos()}else this.mousedown=!1}},mouseUp(e){this.mousedown&&(e.stopPropagation(),e.preventDefault(),this.sendTimelineMoveEvent(!1),this.clearMouseSelections(),this.$emit("timelinepos",this.index,this.timestamp)),this.mousedown=!1},mouseDown(e){this.menuOpened||1!==e.which||this.mousedown||(e.stopPropagation(),e.preventDefault(),this.mousedown=!0,this.itemClicked=0,this.sendTimelineMoveEvent(!0),Object(me["a"])(window,"mousemove").pipe(Object(fe["a"])(),Object(ge["a"])(()=>!0===this.mousedown)).subscribe(this.moveTimeline))},showContextMenu(){this.menuOpened=!0},sendTimelineMoveEvent(e){this.isMoving=e,this.$emit("move",this.isMoving)},clearMouseSelections(){document.selection?document.selection.empty():window.getSelection().removeAllRanges()}}},ye=be,xe=(i("b222"),Object(w["a"])(ye,pe,he,!1,null,"1290b96f",null)),_e=xe.exports,De=i("d634"),we=i("078c"),Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default"),i("div",{staticClass:"ruler"},[i("div",{staticClass:"timeline-bar",style:e.getTimelineBar}),i("div",{ref:"ruler"},e._l(e.maxIndex,(function(t){return i("div",{key:t,staticClass:"cm",style:e.getRulerStyle(t)})})),0)])],2)},ke=[],Se=(i("6b54"),i("28a5"),{name:"DraalRuler",props:{rulerWidth:{type:Number,required:!0},units:{type:String,required:!1,default:null},zoom:{type:Number,required:!1,default:1},zoomGrid:{type:Array,required:!1,default:()=>[60,30,20,15,10,5,3,2,1,.5]}},data(){const e=this.zoomGrid.length>1?4:this.zoomGrid[0],t=this.zoomGrid.length>1?this.timeSlotsFromGrid:this.timeSlotsFromWidth,i=t(e),a=i.intZoom;let n=0,r=1;while(n<100*a)n=this.incSize/this.rulerWidth*(r-1)*100*a,r+=1;const l=r-1;return this.showLast=!0,n=this.incSize/this.rulerWidth*(r-3)*100*a,100*a-n<5&&(this.showLast=!1),{width:0,resizeObserver:null,maxIndex:l,intZoom:a}},mounted(){this.width=this.$refs.ruler.scrollWidth,this.$emit("zoom-level",this.intZoom),this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(this.$refs.ruler)},destroyed(){this.resizeObserver.disconnect()},computed:{getTimelineBar(){return`--width: ${this.intZoom*this.width}px;`}},methods:{timeSlotsFromWidth(e){return this.incSize=this.rulerWidth/(this.zoom*e),{intZoom:this.zoom}},timeSlotsFromGrid(e){function t(e,t,i){for(let a=0;a<e.length;a++){const n=Math.floor(t/e[a]);if(n>=i)return a}return e.length-1}const i=t(this.zoomGrid,this.rulerWidth,e),a=this.zoomGrid.length-i,n=this.zoom+i>this.zoomGrid.length?a:this.zoom,r=this.zoom<0?0:n;let l=i+r-1;return l>this.zoomGrid.length-1&&(l=this.zoomGrid.length-1),this.incSize=this.zoomGrid[l],{intZoom:r}},onResize(){this.$refs.ruler&&(this.width=this.$refs.ruler.scrollWidth,this.$emit("resize"))},getRulerStyle(e){let t=this.incSize/this.rulerWidth*(e-1)*100*this.intZoom;t>100*this.intZoom&&(t=100*this.intZoom);let i=(this.incSize*(e-1)).toFixed(1);const a=i.toString().split(".");"0"===a[1]&&(i=Math.floor(i));const n="0"===a[1]?"14px":"10px";let r,l=!0;return i=i.toString(),i.length>6?r=-30:i.length>5?r=-26:i.length>4?r=-22:i.length>3?r=-18:i.length>2?r=-14:i.length>1?r=-12:(r=-4,l=!1),l&&e!==this.maxIndex&&(r+=6),r+="px",e===this.maxIndex&&(t-=.3,i=this.showLast?this.rulerWidth:"",i=this.units?`${i}${this.units}`:i),`--height: ${n}; --after: ${r}; --left: ${t}%; --content: '${i}'`}}}),Ae=Se,Oe=(i("c25a"),Object(w["a"])(Ae,Ce,ke,!1,null,"2a24b3d6",null)),Ie=Oe.exports,Ee=i("e6de"),$e=i("8317"),Te=i("af1c"),qe={name:"DraalTimeline",components:{DraalTimelineItem:_e,DraalDialog:we["a"],DraalRuler:Ie,DraalDataTable:Te["a"],DraalTooltip:Ee["a"],DraalMenu:$e["a"]},props:{timelineID:{type:String,required:!1,default:"timeline"},timeData:{type:Array,required:!1,default:()=>[]},timelineWidths:{type:Array,required:!0},editText:{type:String,required:!1,default:"Edit data"},itemCreator:{type:Function,required:!0},timelineGridItems:{type:Number,required:!1,default:10},tableConfig:{type:Object,required:!1,default:()=>{}},maxZoom:{type:Number,required:!1,default:5},saveOnEdit:{type:Boolean,required:!1,default:!1},timelineScrollColor:{type:String,required:!1,default:"#03A9F4"},timelineScrollHoverColor:{type:String,required:!1,default:"#0277BD"},dataProvider:{type:Object,required:!1,default:null},dialogWidth:{type:String,required:!1,default:"400"},toolbarClasses:{type:String,required:!1,default:"rounded border elevation-3 p-1 pl-4 pr-4"},customSlots:{type:Array,required:!1,default:()=>[]},toolbarTooltipPosition:{type:String,required:!1,default:"top"},toolbarIconSize:{type:String,required:!1,default:"medium"},help:{required:!1,default:!1}},data(){const e=Date.now(),t={[""+this.toolbarIconSize]:!0};return{dialogKey:0,timelineRender:0,tableRender:0,dialogEditData:{},editDialog:!1,timelines:this.timeData.map((t,i)=>Object(ue["a"])({},t,{$clicked:!1,$id:e+i})),timelineWidth:this.timelineWidths[0].width,timelineMenuWidths:[...this.timelineWidths],hasChanges:!1,mounted:!1,zoom:1,moving:!1,rulerRender:0,durationUpdated:0,toolIconAttrs:{position:this.toolbarTooltipPosition,iconSize:this.toolbarIconSize,classes:"ml-1"},leftToolbar:this.leftToolBarRequested(),timelineMenuWidthAttrs:t,eventFiltering:[],filterStatus:[]}},mounted(){var e=this;return Object(M["a"])((function*(){e.dataProvider.subscribe(t=>{let i,a=t.data;a&&(i=a.duration),i=i||0,e.timelineMenuWidths.splice(0,e.timelineMenuWidths.length),e.timelineMenuWidths.push({width:i}),e.timelineWidth=i,e.timelines.splice(0,e.timelines.length),e.zoom=1,e.setChanges(!0,!0),e.setChanges(!1),e.durationUpdated+=1}),e.timelineWidth=e.getTimelineLength(e.timelineID)||e.timelineWidth,yield e.$nextTick(),e.mounted=!0}))()},computed:{getTimelineLength:De["b"].getTimelineLength,customRenderColumns(){const e=this.tableConfig&&this.tableConfig.customColumns||[];return e.map(e=>"table."+e)},actions(){return this.timelineMenuWidths.map(e=>({title:e.title,fn:()=>this.saveLength(e.width)}))},filteredTimelineMarkers(){return this.eventFiltering.length?this.getFilteredTimeline():this.timelines}},methods:{saveTimelineLength:De["a"].saveTimelineLength,getFilteredTimeline(){const e=this.tableConfig.dataFilter.field;return this.timelines.filter(t=>-1===this.eventFiltering.indexOf(t[e]))},leftToolBarRequested(){return this.customSlots.indexOf("toolbar-left")>-1},setZoom(e){const t=this.zoom+e,i=this.timelineWidth/(t*this.timelineGridItems);t>0&&t<=this.maxZoom&&i>=1&&(this.zoom=t,this.rulerRender+=1,this.renderTimeline())},saveLength(e){this.saveTimelineLength({id:this.timelineID,length:e}),this.timelineWidth=e,this.rulerRender+=1,this.renderTimeline()},renderTimeline(){this.timelineRender+=1},renderTable(){this.tableRender+=1},setChanges(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.hasChanges=e,this.hasChanges&&((!1===this.saveOnEdit||t)&&this.$emit("timelineChanged",this.timelines),(!0===this.saveOnEdit||t)&&this.sendTimelineEvent(),this.renderTable())},addItem(e,t,i){const a=this.timelineWidth/(this.zoom*this.timelineGridItems),n=this.timelines.length,r=n?this.timelines[n-1].position+a:0,l=Date.now();if(t){const i=e||0,a=r;for(let e=0;e<i;e++)t(a,this.timelineWidth,e,t=>!!(t&&t.position<this.timelineWidth)&&(this.timelines.push(Object(ue["a"])({},t,{$clicked:!1,$id:l+e})),!0))}else this.timelines.push(Object(ue["a"])({},this.itemCreator(i),{position:r>this.timelineWidth?this.timelineWidth:r,$clicked:!1,$id:l}));this.setChanges(!0)},editAction(e){this.dialogEditData=this.timelines[e],this.editDialog=!0,this.dialogKey+=1},deleteAction(e){this.timelines.splice(e,1),this.setChanges(!0)},closeDialog(){this.editDialog=!1},dialogEditChanges(e){this.setChanges(e||!0)},highlightStop(e){const t=this.getTimelineIndex(e);this.timelines[t].$clicked=!1},positionUpdate(e,t){const i=this.getTimelineIndex(e);function a(e,t){return e.position<t.position?-1:e.position>t.position?1:0}this.timelines[i].position=t,this.timelines.sort(a),this.setChanges(!0),this.renderTable()},handleClick(e){this.timelines.forEach(e=>{e.$clicked=!1}),this.timelines[e].$clicked=!0,this.renderTimeline()},timelineEdit(e){const t=this.getTimelineIndex(e);this.editAction(t)},getTimelineIndex(e){return this.timelines.findIndex(t=>t.$id===e)},sendTimelineEvent(){this.$emit("input",this.timelines),this.setChanges(!1)},moveTimeEntry(e){setTimeout(()=>{this.moving=e},10)},setTimelineMarkerFilter(e,t){this.eventFiltering.splice(0,this.eventFiltering.length),e.forEach(e=>this.eventFiltering.push(e)),this.filterStatus.splice(0,this.filterStatus.length),t.forEach(e=>this.filterStatus.push(e))}}},je=qe,Ve=(i("a856"),Object(w["a"])(je,ce,de,!1,null,"db7b9430",null)),Pe=Ve.exports,Re={name:"TimelineInput",extends:x["a"],components:{DraalTimeline:Pe,WheelInput:oe["a"]},props:{timelineWidths:{type:Array,required:!1,default:()=>[]},maxZoom:{type:Number,required:!1,default:10},dataRelInput:{type:Object,required:!1,default:null},tableConfig:{type:Object,required:!1,default:()=>{}},accessMethods:{type:Object,required:!0},customSlots:{type:Array,required:!1,default:()=>[]},slotPrefix:{type:String,required:!1,default:""},toolbarIconSize:{type:String,required:!1,default:"medium"}},data(){const e=this.getComponentSlotName(this.slotPrefix||"","edit-dialog");return{dummyModel:0,editSlot:e}},computed:{customRender(){const e=this.customSlots||[],t=this.slotPrefix||"";return e.map(e=>({childSlot:"table."+e,componentSlot:this.getComponentSlotName(t,e)}))}},methods:{getComponentSlotName(e,t){return`${e}${this.name}.${t}`},saveEditedValues(e,t,i){this.accessMethods.save(e,t),i(!0)},saveTimeline(e){this.inputChangeEvent(e),this.dummyModel=0},getOutlinedClasses(e){return this.outlined?[e,"primary--text"]:["primary--text"]}}},Me=Re,Le=(i("dba3"),Object(w["a"])(Me,le,se,!1,null,"018c3785",null)),Fe=Le.exports,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isRowMode()?i("div",{staticClass:"row"},e._l(e.schema,(function(t,a){return i("div",{key:a,staticClass:"ml-auto col-md m-0"},[i("draal-form-input",e._g(e._b({key:a,staticClass:"mt-0 pt-0 pb-2",attrs:{value:e.value[t.name],slotPrefix:e.name+"."},on:{input:function(i){return e.updateForm(t.name,i)}},scopedSlots:e._u([e._l(e.slotsDef,(function(t,i){return{key:t.childSlot,fn:function(a){var n=a.data;return[e._t(t.componentSlot,null,{inputKey:i,data:n})]}}}))],null,!0)},"draal-form-input",t,!1),e.listeners))],1)})),0):e._e()},ze=[],Ue=i("eaf8"),We={name:"GroupInput",components:{DraalFormInput:()=>Promise.resolve().then(i.bind(null,"286b"))},props:{schema:{type:Array,required:!0},value:{required:!0},name:{type:String,required:!0},renderMode:{type:String,required:!0}},data(){const e=[];Object(Ue["j"])(e,this.schema,this.name+".","input","input");const t=Object(ue["a"])({},this.$listeners,{"form-input-help":e=>this.$emit("form-input-help",`${this.name}.${e}`),"data-rel-update":(e,t,i)=>{this.$emit("data-rel-update",`${this.name}.${e}`,t,i)}});return delete t.input,{listeners:t,slotsDef:e}},methods:{isRowMode(){return"row"===this.renderMode},updateForm(e,t){this.$set(this.value,e,t),this.$emit("input",this.value,`${this.name}.${e}`)}}},Be=We,He=Object(w["a"])(Be,Ne,ze,!1,null,null,null),Ge=He.exports,Ze={name:"DraalFormInput",components:{TextInput:k,SelectInput:S["a"],CheckboxInput:A["a"],SwitchInput:O["a"],RadioInput:V,TimelineInput:Fe,FileOpenInput:H,RemoteFileSaveInput:Q,FileQueryInput:re,GroupInput:Ge},data(){return{dataRel:Ue["a"].createAsSubject(),slotsDef:this.getSlots()}},mounted(){this.$attrs.dataRelTarget&&this.$emit("data-rel-update",this.$attrs.name,this.$attrs.dataRelTarget,this.dataUpdate.bind(this))},destroyed(){this.dataRel.close()},methods:{getSlots(){const e=this.$attrs.name,t=this.$attrs.slotPrefix||"",i=this.$attrs.customSlots||[],a=i.map(i=>({childSlot:`${t}${e}.${i}`,componentSlot:`input.${t}${e}.${i}`}));return this.$attrs.schema&&Object(Ue["j"])(a,this.$attrs.schema,e+".","input","input"),a},getType(e){return g(e)},dataUpdate(e,t){this.dataRel.send({target:e,data:t})}}},Ke=Ze,Ye=(i("c48d"),Object(w["a"])(Ke,a,n,!1,null,"e218ba88",null));t["default"]=Ye.exports},"29d3":function(e,t,i){},"2a74":function(e,t,i){"use strict";i.r(t);i("a481"),i("28a5");var a=i("be94"),n=(i("ac6a"),i("bba4")),r=i.n(n);const l=i("b935"),s={modules:{}};l.keys().forEach(e=>{if("./index.js"===e)return;function t(e,i){if(1===i.length)return e;const n=i.shift();return e.modules[n]=Object(a["a"])({modules:{}},e.modules[n]),t(e.modules[n],i)}const i=e.replace(/^\.\//,"").replace(/\.\w+$/,"").split(/\//).map(r.a),n=t(s,i),o=n.modules;o[i.pop()]=Object(a["a"])({namespaced:!0},l(e))}),t["default"]=s.modules},"2d7a":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-icon",e._b({class:["dropbox "+e.cls,e.dragging?"dropbox-highlight":""],attrs:{title:e.title},on:{dragenter:function(t){return e.setDragging(!0)},dragend:function(t){return e.setDragging(!1)},dragleave:function(t){return e.setDragging(!1)},dragover:function(e){e.preventDefault()},drop:e.onDrop}},"v-icon",e.attrs,!1),[e._v(e._s(e.icon))])},n=[],r={name:"DraalFileDrop",props:{title:{type:String,required:!1,default:""},cls:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:"mdi-drag"},iconSize:{type:String,required:!1,default:"medium"},iconColor:{type:String,required:!1,default:""}},data(){return{dragging:!1}},computed:{attrs(){const e=this.dragging?"x-large":this.iconSize,t={[""+e]:!0};return this.iconColor&&(t.color=this.iconColor),t}},methods:{onDrop(e){return e.preventDefault(),this.$emit("fileDrop",e.dataTransfer.files),this.dragging=!1,!1},setDragging(e){this.dragging=e,this.$emit("dragging",this.dragging)}}},l=r,s=(i("fd20"),i("2877")),o=Object(s["a"])(l,a,n,!1,null,"70d8b47a",null);t["a"]=o.exports},"2ec7":function(e,t,i){"use strict";i("5dc8")},"2f6e":function(e,t,i){},"30a4":function(e,t,i){"use strict";var a=i("be94"),n=i("ebb6"),r=i("6d74");const l="json";class s{constructor(e){this.rootUrl="/api/audio/v1/",this.appUrl="/api/app/metadata",this.network=e}getAppMeta(){const e={responseType:l,params:{time:Date.now()}};return this.network.get(""+this.appUrl,e).pipe(Object(n["a"])(e=>e.data[0]))}getFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={responseType:"blob",params:Object(a["a"])({},t,{time:Date.now()})};return this.network.get(`${this.rootUrl}${e}`,n,i)}execCommand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exec";const i={responseType:l,params:Object(a["a"])({},e,{time:Date.now()})};return this.network.get(`${this.rootUrl}${t}`,i)}uploadFile(e,t){return this.network.uploadFiles(this.rootUrl+"parse",[e],t)}}const o=new s(r["a"]);var c=o;class d{constructor(e){this.rootUrl="https://dog.ceo/api",this.network=e}getBreeds(){const e=this.rootUrl+"/breeds/list/all";return this.network.get(e)}getBreed(e,t){const i=`${this.rootUrl}/breed/${e}`,a=t?`${i}/${t}/images`:i+"/images";return this.network.get(a)}}const u=new d(r["a"]);var p=u;const h="pk_dfa9a54a893a45a3be266ef83ebc3c9a";class m{constructor(e){this.rootUrl="https://cloud.iexapis.com/stable",this.network=e}stock(e){const t=`${this.rootUrl}/stock/${e}/batch?types=quote,news,chart&range=1m&last=50&token=${h}`;return this.network.get(t)}}const f=new m(r["a"]);var v=f;i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return b})),i.d(t,"c",(function(){return y}));const g=c,b=p,y=v},"35e5":function(e,t,i){},"36cf":function(e,t,i){},"3e8b":function(e,t,i){},"405d":function(e,t,i){},"491d":function(e,t,i){"use strict";i("405d")},"4d42":function(e,t,i){"use strict";i.d(t,"h",(function(){return a})),i.d(t,"i",(function(){return n})),i.d(t,"k",(function(){return r})),i.d(t,"l",(function(){return l})),i.d(t,"m",(function(){return s})),i.d(t,"g",(function(){return o})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"f",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"j",(function(){return m})),i.d(t,"e",(function(){return f}));const a={type:String,required:!0},n={type:String,required:!0},r={type:String,required:!0},l={type:String,required:!1,default:""},s={required:!0},o={type:Object,required:!1,default:null},c={type:String,required:!1,default:"form-input mt-0 pt-0 pb-2"},d={type:Array,required:!0},u={type:String,required:!1,default:""},p={type:String,required:!1,default:""},h=(Boolean,{type:Boolean,required:!1,default:!1}),m={type:Boolean,required:!1,default:!1},f={type:String,required:!1,default:"#EE82EE"}},5334:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);var a=i("2b0e"),n=i("7496"),r=i("40dc"),l=i("5bc1"),s=i("e449"),o=i("3a2f"),c=i("71d9"),d=i("8860"),u=i("da13"),p=i("5d23"),h=i("1800"),m=i("56b0"),f=i("8336"),v=i("0e8f"),g=i("8654"),b=i("b974"),y=i("ac7c"),x=i("b73d"),_=i("0393"),D=i("cd55"),w=i("c865"),C=i("49e2"),k=i("132d"),S=i("169a"),A=i("b0af"),O=i("99d9"),I=i("8fea"),E=i("c6a6"),$=i("fe57"),T=i("71a3"),q=i("c671"),j=i("5e66"),V=i("3e35"),P=i("8e36"),R=i("ba0d"),M=i("43a6"),L=i("67b6"),F=i("ce87"),N=i("24c9"),z=i("0789"),U=i("f309"),W=(i("ac6a"),i("a925")),B=i("edd4");a["a"].use(W["a"]);const H=[{key:"en",messages:B}];function G(){const e={};return H.forEach(t=>{e[t.key]=t.messages}),e}var Z=new W["a"]({locale:"en",fallbackLocale:"en",messages:G()});const K={customProperties:!0,components:{VApp:n["a"],VAppBar:r["a"],VAppBarNavIcon:l["a"],VMenu:s["a"],VTooltip:o["a"],VToolbar:c["a"],VList:d["a"],VListItem:u["a"],VListItemContent:p["a"],VListItemTitle:p["b"],VListItemAction:h["a"],VListGroup:m["a"],VBtn:f["a"],VFlex:v["a"],VTextField:g["a"],VSelect:b["a"],VCheckbox:y["a"],VSwitch:x["a"],VExpansionPanels:_["a"],VExpansionPanel:D["a"],VExpansionPanelHeader:w["a"],VExpansionPanelContent:C["a"],VIcon:k["a"],VDialog:S["a"],VCard:A["a"],VCardText:O["b"],VCardTitle:O["c"],VCardActions:O["a"],VDataTable:I["a"],VAutocomplete:E["a"],VTabs:$["a"],VTab:T["a"],VTabItem:q["a"],VCarousel:j["a"],VCarouselItem:V["a"],VProgressLinear:P["a"],VSlider:R["a"],VRadioGroup:M["a"],VRadio:L["a"],VHover:F["a"],VLabel:N["a"],VExpandTransition:z["a"]},global:{ripples:!1},iconfont:"mdi"};a["a"].use(U["a"],K);const Y={lang:{t:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return Z.t(e,i)}}},J=new U["a"](Y);var Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{attrs:{id:"app"}},[i("draal-go-2-top"),i("draal-header",{attrs:{homeRoute:e.home,routes:e.header.routes,appName:e.header.appName}}),i("draal-breadcrumbs",{staticClass:"mt-3 mr-3 ml-3",attrs:{"home-route-name":e.home,"home-name":e.homeName}}),i("draal-notification"),i("div",{staticClass:"container-fluid app-container"},[i("router-view"),i("v-flex",{attrs:{xs12:"",sm34:"","text-xs-center":""}},[i("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(t){return e.addAlert("Success")}}},[e._v("Add success alert")]),i("v-btn",{staticClass:"mr-2",attrs:{color:"info"},on:{click:function(t){return e.addAlert("Info")}}},[e._v("Add info alert")]),i("v-btn",{staticClass:"mr-2",attrs:{color:"warning"},on:{click:function(t){return e.addAlert("Warning")}}},[e._v("Add warning alert")]),i("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.addAlert("Error")}}},[e._v("Add error alert")])],1),e.data.length?i("div",{staticClass:"p-3 elevation-3"},[i("div",{staticClass:"row text-left"},[i("div",{staticClass:"col-sm"},[e._v(e._s(e.quote.companyName)+" ("+e._s(e.quote.symbol)+")")]),i("div",{staticClass:"col-sm"},[e._v("Close: "+e._s(e.chart[e.chart.length-1].close))]),i("div",{staticClass:"col-sm"},[e._v("High: "+e._s(e.chart[e.chart.length-1].high))]),i("div",{staticClass:"col-sm"},[e._v("Low: "+e._s(e.chart[e.chart.length-1].low))])]),i("div",{staticClass:"pb-3"},[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),i("draal-data-table",{attrs:{search:e.search,data:e.data,headers:e.headers,customColumns:["datetime","headline"],expand:"More...",tableAttributes:{"item-key":"url",":search":e.search},actions:["edit","delete"],actionsConfig:{name:"Actions",width:"15%"}},scopedSlots:e._u([{key:"table.datetime",fn:function(t){var a=t.data;return[i("div",{domProps:{innerHTML:e._s(e.getTime(a.datetime))}})]}},{key:"table.headline",fn:function(t){var a=t.data;return[i("a",{attrs:{href:a.url,target:"_blank"}},[e._v(e._s(a.headline))])]}},{key:"table.expand",fn:function(t){var a=t.data;return[i("div",{staticClass:"row"},[i("div",{staticClass:"hidden-sm-and-down"},[i("img",{staticClass:"p-3",attrs:{src:a.image,width:"150",height:"150"}})]),i("div",{staticClass:"col text-left"},[e._v(e._s(a.summary))])])]}}],null,!1,460209240)})],1):e._e()],1),i("draal-footer")],1)},X=[],ee=i("be94"),te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pb-2"},[i("v-toolbar",{staticClass:"hidden-sm-and-down bg-light"},[i("router-link",{staticClass:"navbar-brand",attrs:{"active-class":"active",to:{name:e.homeRoute}}},[e._v(e._s(e.appName))]),i("draal-app-reloader",{attrs:{classes:"mr-3"}}),i("div",{staticClass:"row w-100"},[e._l(e.routes,(function(t,a){return i("div",{key:a,staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:t.name}}},[e._v(e._s(t.title))])],1)})),i("draal-language-selection",{staticClass:"ml-auto"})],2)],1),i("v-app-bar",{staticClass:"hidden-md-and-up bg-light"},[i("v-menu",{attrs:{"min-width":"128"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-app-bar-nav-icon",e._g({},a)),i("draal-app-reloader"),i("router-link",{staticClass:"navbar-brand",attrs:{"active-class":"active",to:{name:e.homeRoute}}},[e._v(e._s(e.appName))])]}}])},[i("v-list",{attrs:{"min-height":"224"}},e._l(e.routes,(function(t,a){return i("v-list-item",{key:a,staticClass:"nav-item"},[i("v-list-item-title",[i("router-link",{staticClass:"nav-link text-left",attrs:{to:{name:t.name}}},[e._v(e._s(t.title))])],1)],1)})),1)],1),i("draal-language-selection",{staticClass:"ml-auto"})],1)],1)},ie=[],ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.newAppVersionAvailable?i("draal-tooltip",{attrs:{classes:e.classes,position:"top",name:e.$t("header.newVersion"),icon:"mdi-refresh",iconSize:"large",iconColor:"red"},on:{clicked:e.reloadApp}}):e._e()},ne=[],re=i("d634"),le=i("e6de"),se={name:"DraalAppReloader",props:{classes:{type:String,required:!1,default:""}},components:{DraalTooltip:le["a"]},computed:Object(ee["a"])({},re["b"]),methods:Object(ee["a"])({},re["a"])},oe=se,ce=i("2877"),de=Object(ce["a"])(oe,ae,ne,!1,null,null,null),ue=de.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-menu",{attrs:{"offset-y":"",absolute:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-tooltip",{attrs:{left:"",debounce:"200","open-delay":"500","close-delay":"250"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"mt-2",attrs:{color:"primary",depressed:"",text:"",small:""}},Object.assign({},n,a)),[e._v(e._s(e.$i18n.locale))])]}}],null,!0)},[i("span",[e._v(e._s(e.$t("header.selectLanguage")))])])]}}])},[i("v-list",e._l(e.$t("header.languageSelections"),(function(t,a){return i("v-list-item",{key:a,staticClass:"mr-2 ml-2",on:{click:function(i){return e.setLang({lang:t.lang,instance:e.$i18n})}}},[i("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1)},he=[],me={name:"DraalLanguageSelection",methods:Object(ee["a"])({},re["a"])},fe=me,ve=Object(ce["a"])(fe,pe,he,!1,null,null,null),ge=ve.exports,be={name:"DraalHeader",components:{DraalAppReloader:ue,DraalLanguageSelection:ge},props:{appName:{type:String,required:!0},routes:{type:Array,reqired:!0},homeRoute:{type:String,required:!0}}},ye=be,xe=Object(ce["a"])(ye,te,ie,!1,null,null,null),_e=xe.exports,De=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-3 pb-3"},[i("footer",{staticClass:"footer grey lighten-4"},[i("div",{staticClass:"container-fluid w-100"},[i("span",{staticClass:"text-muted"},[e.appVersion?i("div",[e._v("Application version: "+e._s(e.appVersion))]):e._e()])])])])},we=[],Ce={name:"DraalFooter",computed:Object(ee["a"])({},re["b"])},ke=Ce,Se=(i("de36"),Object(ce["a"])(ke,De,we,!1,null,null,null)),Ae=Se.exports,Oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.appNotifications,(function(t,a){return i("div",{key:a,class:e.getClass(t),on:{click:function(i){return i.preventDefault(),e.removeNotification(t)}}},[e._v(e._s(t.data))])})),0)},Ie=[];const Ee={success:"alert-success",warning:"alert-warning",info:"alert-info",error:"alert-danger"};var $e={name:"DraalNotification",props:{clsMapper:{type:Object,required:!1,default:()=>Ee}},computed:Object(ee["a"])({},re["d"]),methods:Object(ee["a"])({},re["c"],{getClass(e){return"alert mr-3 ml-3 "+this.clsMapper[e.type]}})},Te=$e,qe=(i("e4f6"),Object(ce["a"])(Te,Oe,Ie,!1,null,null,null)),je=qe.exports,Ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.breadcrumbs.length?i("div",[i("ol",{staticClass:"breadcrumb"},[i("li",{staticClass:"breadcrumb-item"},[i("router-link",{attrs:{"exact-active-class":"","active-class":"",to:{name:e.homeRouteName}}},[e._v(e._s(e.homeName))])],1),e._l(e.breadcrumbs,(function(t,a){return i("li",{key:a,staticClass:"breadcrumb-item"},[i("router-link",{attrs:{"exact-active-class":"","active-class":"",to:{name:t.name,params:e.$route.params}}},[e._v(e._s(e.getDisplayName(t.meta)))])],1)}))],2)]):e._e()},Pe=[],Re={name:"DraalBreadcrumbs",props:{homeName:{type:String,required:!0},homeRouteName:{type:String,required:!0}},computed:{breadcrumbs(){const e=[];for(let t=0;t<this.$route.matched.length;t++)this.$route.matched[t].name!==this.homeRouteName&&e.push(this.$route.matched[t]);return e}},methods:{getDisplayName(e){return e.paramId?this.$route.params[e.paramId]:e.breadcrumb}}},Me=Re,Le=Object(ce["a"])(Me,Ve,Pe,!1,null,null,null),Fe=Le.exports,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"go-top",class:e.getClass(),on:{click:e.backToTop}},[i("v-icon",{attrs:{"x-large":"",dark:"",color:"red"}},[e._v("mdi-arrow-up-bold-circle")])],1)},ze=[],Ue={name:"DraalGo2Top",props:{scrollHeight:{type:Number,required:!1,default:250}},destroyed(){window.removeEventListener("scroll",this.scrollHandler)},data(){return{isVisible:!1}},methods:{getClass(){return this.isVisible?"go-top-visible":"go-top-invisible"},scrollHandler(){this.isVisible=window.scrollY>this.scrollHeight},backToTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){this.$nextTick(()=>window.addEventListener("scroll",this.scrollHandler))}},We=Ue,Be=(i("2536"),Object(ce["a"])(We,Ne,ze,!1,null,null,null)),He=Be.exports,Ge=i("30a4");i("6b54");function Ze(){function e(){return Math.random().toString(16).slice(-4)}return`${e()}${e()}-${e()}-${e()}-${e()}-${e()}${e()}`}const Ke={SUCCESS:"success",INFO:"info",WARNING:"warning",ERROR:"error"};class Ye{static createSuccess(e,t){return new Ye(Ke.SUCCESS,e,t)}static createInfo(e,t){return new Ye(Ke.INFO,e,t)}static createWarning(e,t){return new Ye(Ke.WARNING,e,t)}static createError(e,t){return new Ye(Ke.ERROR,e,t)}constructor(e,t,i){this._type=e,this._data=t,this.id=Ze(),this._options=i}get type(){return this._type}get data(){return this._data}get timeout(){return this._options&&this._options.timeout?this._options.timeout:void 0}}const Je=()=>{let e=0;const t=new Map,i=e=>{let a=e.timerId,n=e.forced,r=void 0!==n&&n;const l=t.get(a),s=l.callback,o=l.interval,c=l.forcedInterval,d=l.forcedIntervalId,u=l.lastExecution,p=!0===r?c:o,h=Date.now();if(h-u<p)return;const m=Object(ee["a"])({},l,{lastExecution:h});void 0!==d&&(window.clearInterval(d),m.forcedIntervalId=window.setInterval(()=>{i({timerId:a,forced:!0})},c)),t.set(a,m),s({forced:r,timerId:a})},a=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.callback,r=a.interval,l=a.forcedInterval;const s=e,o={callback:n,interval:r,lastExecution:Date.now()};return void 0!==l&&(o.forcedInterval=l,o.forcedIntervalId=window.setInterval(()=>{i({timerId:s,forced:!0})},l)),t.set(s,o),e+=1,s},n=e=>{const i=t.get(e);if(void 0===i)return;const a=i.forcedIntervalId;void 0!==a&&window.clearInterval(a),t.delete(e)},r=()=>{t.forEach((e,t)=>{i({timerId:t})})};return{setInterval:a,clearInterval:n,runTimersCheck:r}};var Qe=Je;class Xe{constructor(){this._timerId=null,this.activityTimer=Qe()}init(e){let t=e.interval,i=void 0===t?9e5:t,a=e.forcedInterval,n=void 0===a?864e5:a,r=e.callback;return this._timerId=this.activityTimer.setInterval({callback:r,interval:i,forcedInterval:n}),this}runCheck(){return this.activityTimer.runTimersCheck(),this}clear(){this.activityTimer.clearInterval(this._timerId)}}const et=new Xe;var tt=et,it=i("eaf8");const at=[{title:"",path:"/",name:"home"}];Object(it["f"])()||at.push({title:"Configurator",path:"/configurator",name:"configurator",meta:{breadcrumb:"Configurator"}},{title:"Demos",path:"/demos",name:"demos",meta:{breadcrumb:"Demos"},children:[{path:"dogs-api",name:"dogs-api",meta:{breadcrumb:"Dogs API"},children:[{path:":id",name:"dogs-api-d",meta:{paramId:"id"},children:[{path:":id2",name:"dogs-api-d2",meta:{paramId:"id2"}}]}]}]},{title:"Utils",path:"/utils",name:"utils",meta:{breadcrumb:"Utils"}},{title:"Audio",path:"/audio",name:"audio",meta:{breadcrumb:"Audio"}},{title:"About",path:"/about",name:"about",meta:{breadcrumb:"About"}});const nt={routes:at,home:"home",homeName:"Home"};var rt=i("af1c");function lt(){}var st={name:"App",components:{DraalHeader:_e,DraalFooter:Ae,DraalNotification:je,DraalGo2Top:He,DraalBreadcrumbs:Fe,DraalDataTable:rt["a"]},created(){Ge["c"].stock("aapl").subscribe(e=>{this.quote=Object.assign({},e.quote),e.chart.forEach(e=>this.chart.push(e)),e.news.forEach(e=>this.data.push(e))},lt),this.checkVersion(),Object(it["f"])()||tt.init({callback:this.checkVersion.bind(this)}).runCheck()},data(){return{home:nt.home,homeName:nt.homeName,header:{appName:"Epsilon",routes:nt.routes.slice(1)},footer:{link:"https://github.com/jojanper/epsilon",name:"Epsilon powered by Vue"},data:[],chart:[],quote:{},search:"",headers:[{text:"Source",align:"left",filterable:!0,sortable:!0,value:"source",width:"20%"},{text:"Summary",align:"left",filterable:!0,sortable:!0,value:"headline",width:"50%"},{text:"Date",align:"left",filterable:!0,sortable:!0,value:"datetime",width:"15%"}]}},methods:Object(ee["a"])({},re["c"],re["a"],{addAlert(e){const t=Math.floor(5e3*Math.random()),i=`${e} notification. Timeout ${t}msec`;this.addNotification(Ye["create"+e](i,{timeout:t}))},getTime(e){return new Date(e).toDateString()}})},ot=st,ct=(i("6b8a"),i("5c64"),Object(ce["a"])(ot,Q,X,!1,null,"3fba3644",null)),dt=ct.exports,ut=i("8c4f"),pt=i("323e"),ht=i.n(pt),mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-3 mb-3"},[i("router-link",{attrs:{to:{name:"dogs-api"}}},[e._v("Dogs API")]),i("router-view")],1)},ft=[],vt={},gt=vt,bt=Object(ce["a"])(gt,mt,ft,!1,null,null,null),yt=bt.exports,xt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-3 mb-3"},[i("draal-spinner",{attrs:{state:e.processing}},[i("draal-tooltip",{attrs:{position:"top",name:e.$t("dogApiPage.quickHelp"),classes:"pl-3 ml-3 mb-3",icon:"mdi-information-outline"},on:{clicked:function(t){e.helpDialog=!0}}}),i("draal-multi-stage-select",{attrs:{configData:e.selectData,listData:e.listData,selectedData:e.selectedData},on:{selected:e.selected}}),e.images.length?i("v-carousel",{staticClass:"mx-auto"},e._l(e.images,(function(e,t){return i("v-carousel-item",{key:t,staticStyle:{width:"100%",height:"auto"},attrs:{src:e,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1):e._e(),i("draal-dialog",{attrs:{model:e.helpDialog,title:e.$t("dogApiPage.helpContentTitle"),maxWidth:"350"},on:{"close-dialog":function(t){e.helpDialog=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[i("v-card-text",{staticClass:"text-left",domProps:{innerHTML:e._s(e.$t("dogApiPage.helpContent"))}})]},proxy:!0}])})],1)],1)},_t=[],Dt=(i("a481"),i("5fe1")),wt=i("078c"),Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.configData,(function(t,a){return i("div",{key:a},[a<=e.currentSelect?i("select-input",{key:e.currentSelect,attrs:{placeholder:t.placeholder,value:e.selectedData[a],data:e.listData[a],name:e.getName(a),label:t.label},on:{input:function(t){return e.setInputValue(t,a)}}}):e._e()],1)})),0)},kt=[],St=i("a210"),At={name:"DraalMultiStageSelect",components:{SelectInput:St["a"]},props:{listData:{type:Array,required:!0},selectedData:{type:Array,required:!0},configData:{type:Array,required:!0}},data(){let e=0;for(let t=0;t<this.selectedData.length;t++)if(void 0!==this.selectedData[t]){e=t+1;break}return{currentSelect:e}},methods:{getName(e){return"select-"+e},setInputValue(e,t){this.selectedData[t]!==e&&(this.selectedData[t]=e,this.currentSelect=t+1,this.$emit("selected",t,e))}}},Ot=At,It=Object(ce["a"])(Ot,Ct,kt,!1,null,null,null),Et=It.exports,$t={components:{DraalSpinner:Dt["a"],DraalDialog:wt["a"],DraalTooltip:le["a"],DraalMultiStageSelect:Et},data(){return{images:[],helpDialog:!1,processing:!1,selectedData:[],listData:[[],[]]}},computed:{selectData(){return[{placeholder:this.$t("dogApiPage.breedPlaceHolder"),label:this.$t("dogApiPage.breedLabel")},{placeholder:this.$t("dogApiPage.subBreedPlaceHolder"),label:this.$t("dogApiPage.subBreedLabel")}]}},mounted(){this.breeds=[],Ge["b"].getBreeds().subscribe(e=>{this.breeds=e.message,Object.keys(this.breeds).forEach(e=>this.listData[0].push(e)),this.$route.query.breed&&(this.selected(0,this.$route.query.breed),this.$router.replace({query:{}}))})},methods:{getImages(e){Ge["b"].getBreed(...e).subscribe(e=>{let t=e.message;t.forEach(e=>this.images.push(e)),this.processing=!1})},selected(e,t){this.selectedData[e]=t,this.images.splice(0,this.images.length),0===e?(this.processing=!0,this.breeds[t].length?(this.listData[1].splice(0,this.listData[1].length),this.breeds[t].forEach(e=>this.listData[1].push(e)),this.processing=!1):this.getImages([t])):1===e&&this.getImages(this.selectedData)}}},Tt=$t,qt=Object(ce["a"])(Tt,xt,_t,!1,null,null,null),jt=qt.exports,Vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-3 mb-3"},[i("v-tabs",{attrs:{vertical:""}},[i("v-tab",[i("v-icon",{attrs:{left:""}},[e._v("mdi-identifier")]),e._v(" "+e._s(e.$t("fileUtils.title"))+" ")],1),i("v-tab-item",[i("v-card",{attrs:{flat:""}},[i("v-card-text",{staticClass:"text-left"},[i("draal-upload-terminal",{attrs:{description:e.$t("fileUtils.text"),uploadFn:e.uploadFn}})],1)],1)],1)],1)],1)},Pt=[],Rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("draal-spinner",{attrs:{state:e.processing},scopedSlots:e._u([{key:"spinner",fn:function(){return[i("div",{staticClass:"text-center"},[e._v(e._s(e.completed)+"%")])]},proxy:!0}])},[i("p",[e._v(e._s(e.description))]),i("draal-file-drop",{on:{fileDrop:e.onDrop}}),e.terminalData.length?i("div",[i("p",[e._v(e._s(e.fileName)+":")]),i("draal-terminal",{attrs:{dataInput:e.terminalData}})],1):e._e()],1)},Mt=[],Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.data.length?i("v-card",{staticClass:"mx-auto mt-3 mb-3 data-screen",class:e.classes,attrs:{"max-width":"2048"}},[i("v-card-text",{staticClass:"data-screen-text"},e._l(e.data,(function(t,a){return i("div",{key:a},[t.length?i("div",{staticClass:"text-left pre-wrap data-screen-text",domProps:{innerHTML:e._s(t)}}):e._e(),t.length?e._e():i("br")])})),0)],1):e._e()},Ft=[],Nt=(i("28a5"),{name:"DraalTerminal",props:["dataInput","classes"],computed:{data(){return this.dataInput.flat().flatMap(e=>e.split("\n")).filter(e=>e.length).map(e=>Object(it["b"])(e))}}}),zt=Nt,Ut=(i("67f2"),Object(ce["a"])(zt,Lt,Ft,!1,null,"3117b86b",null)),Wt=Ut.exports,Bt=i("1da1");const Ht={data(){return{terminalData:[],processing:!1}},methods:Object(ee["a"])({},re["c"],{terminalExec(e,t){this.processing=!0,this.clearTerminalData(),this.cbSuccess=t,e.subscribe(this.renderTerminalResponse,this.renderTerminalError)},renderTerminalResponse(e){var t=this,i=arguments;return Object(Bt["a"])((function*(){let a=i.length>1&&void 0!==i[1]&&i[1],n=null;if(a){if(e.data.errors)e.data.errors.forEach(e=>t.addNotification(Ye.createError(e)));else if(n=e.data.cmderrors,!n)try{const t=JSON.parse(yield e.data.text());n=t.cmderrors}catch(r){}}else n=Array.isArray(e.cmddata)?e.cmddata:[e.cmddata];n&&n.flatMap(e=>e.split("\n")).forEach(e=>t.terminalData.push(e)),t.cbSuccess&&t.cbSuccess(t.terminalData),t.processing=!1}))()},renderTerminalError(e){this.renderTerminalResponse(e,!0)},clearTerminalData(){this.terminalData.splice(0,this.terminalData.length)},setTerminalData(e){this.clearTerminalData(),e.forEach(e=>this.terminalData.push(e))}})};var Gt=i("2d7a"),Zt={name:"DraalUploadTerminal",mixins:[Ht],components:{DraalFileDrop:Gt["a"],DraalTerminal:Wt,DraalSpinner:Dt["a"]},props:{description:{type:String,required:!0},uploadFn:{type:Function,required:!0}},data(){return{fileName:"",completed:0}},methods:{onDrop(e){this.fileName=e[0].name,this.terminalExec(this.uploadFn(e[0],e=>{this.completed=Math.round(100*e.loaded/e.total)}))}}},Kt=Zt,Yt=(i("9125"),Object(ce["a"])(Kt,Rt,Mt,!1,null,"c67e4f1c",null)),Jt=Yt.exports,Qt={name:"DraalUploadUtils",components:{DraalUploadTerminal:Jt},data(){return{uploadFn:Ge["a"].uploadFile.bind(Ge["a"])}}},Xt=Qt,ei=Object(ce["a"])(Xt,Vt,Pt,!1,null,null,null),ti=ei.exports,ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h1",[e._v(e._s(e.$t("configuratorPage.title")))]),i("v-expansion-panels",{staticClass:"mt-3 mb-3",model:{value:e.activePanel,callback:function(t){e.activePanel=t},expression:"activePanel"}},[i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(e._s(e.$t("configuratorPage.confPanelTitle")))]),i("v-expansion-panel-content",[i("draal-file-import",{staticClass:"mb-6",attrs:{"tooltip-text":"Import JSON","tooltip-position":"right","icon-color":"red darken-2",icon:"mdi-import",multiple:!0},on:{"file-select":e.fileSelect}}),i("draal-form-generator",{attrs:{schema:e.schema,options:e.options,reset:e.resetField},on:{submit:e.encode},scopedSlots:e._u([{key:"form.row.timeline2.angleDir",fn:function(t){var a=t.data;return[i("v-icon",{style:e.renderAzimuth(a)},[e._v("mdi-arrow-up")])]}},{key:"form.row.timeline2.edit-dialog",fn:function(){return[i("v-icon",[e._v("mdi-arrow-down")])]},proxy:!0},{key:"form.timeline.edit-dialog",fn:function(e){var t=e.data;return[i("draal-event-data-edit",{key:t.source.$id,attrs:{data:t.source,save:t.save}})]}},{key:"form.timeline.value",fn:function(e){var t=e.data;return[i("draal-event-data",{attrs:{data:t}})]}},{key:"form.timeline.toolbar-left",fn:function(t){var a=t.data;return[i("div",[e._l(e.timelineToolbarIcons,(function(t,n){return i("draal-tooltip",e._b({key:n,attrs:{classes:"ml-2",name:t.name,icon:t.icon},on:{clicked:function(i){return e.iconClick(a,t.value)}}},"draal-tooltip",e.toolIconAttrs,!1))})),e.menuPresets.length>0?i("draal-tooltip-menu",{attrs:{"tooltip-text":"More event presets","tooltip-attrs":{position:e.toolIconAttrs.position},menuItems:e.menuPresets,"cb-data":a,menuAttrs:{left:!0,"offset-y":!0}},scopedSlots:e._u([{key:"menu-entry",fn:function(t){var a=t.menu,n=t.tooltip;return[i("v-icon",e._g(e._b({staticClass:"float-right"},"v-icon",e.menuAttrs,!1),Object.assign({},a,n)),[e._v("mdi-menu")])]}}],null,!0)}):e._e()],2)]}},{key:"form.timeline.toolbar-right.add",fn:function(t){var a=t.data;return[i("draal-tooltip",e._b({attrs:{name:e.$t("configuratorPage.newDirection"),icon:"mdi-focus-field"},on:{clicked:function(t){return e.addEvent(a,e.timelineTypes.dir)}}},"draal-tooltip",e.toolIconAttrs,!1)),i("draal-tooltip",e._b({attrs:{name:e.$t("configuratorPage.newSwitch"),icon:"mdi-fan"},on:{clicked:function(t){return e.addEvent(a,e.timelineTypes.switch)}}},"draal-tooltip",e.toolIconAttrs,!1))]}}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),i("div",{staticClass:"row"},[i("draal-file-import",{staticClass:"col-sm",attrs:{"tooltip-text":"Open","icon-color":"blue",icon:"mdi-folder-open"},on:{"file-select":e.fileSelect}}),i("draal-file-import",{staticClass:"col-sm",attrs:{"tooltip-text":"Open multiple files","icon-color":"blue",icon:"mdi-plus",drag:!1,multiple:!0},on:{"file-select":e.fileSelect}}),i("a",{staticClass:"col-sm",attrs:{href:e.linkUrl,download:e.linkDownload}},[i("v-btn",[e._v("Paina tästä")])],1)],1)],1)],1),i("v-expansion-panel",[i("v-expansion-panel-header",[e._v("TESTI")]),i("v-expansion-panel-content",[i("draal-icon-dialog",{attrs:{"tooltip-config":{"icon-size":"large"},"tooltip-text":"Icon tooltip","dialog-title":"This is title","dialog-content":"This is content"}})],1)],1)],1)],1)},ai=[],ni=i("5e53"),ri=i("17f5"),li=i("bee6");const si=[{text:"Event position",align:"left",filterable:!1,sortable:!1,value:"position",width:"10%"},{text:"Type",value:"type",sortable:!1,filterable:!1,width:"10%"}],oi={dir:"Direction",switch:"Audio switch"},ci=[{type:"text",placeholder:"Enter device UUID",label:"Device ID",name:"device",rules:"required",clearable:!0,outlined2:!0,help:{title:"Device UUID",body:"UUID in the form of xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx."}},{type:"group-input",name:"row",renderMode:"row",dividerStart:{label:"Group input",class:"w-75 mb-10"},dividerEnd:{label:"Group input end",class:"w-75 mb-10"},schema:[{type:"timeline",name:"timeline2",label:"Timeline",placeholder:"",maxZoom:15,timelineWidths:[{width:15,title:"Timeline 15sec"}],dataRelTarget:["input"],customSlots:["angleDir","edit-dialog"],tableConfig:{customColumns:["angleDir"],headers:si},accessMethods:{new(){return{angle:0,zoom:0}},save(e,t){e.angle=t.angle,e.zoom=t.zoom}}},{type:"text",placeholder:"Enter device UUID 1",label:"Device ID",name:"device1",rules:"required",help:{title:"Device UUID 1",body:"UUID in the form of xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx."},dataRelTarget:["row.device2"]},{type:"text",placeholder:"Enter device UUID 2",label:"Device ID",name:"device2",rules:"required",help:{title:"Device UUID 2",body:"UUID in the form of xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx."}},{type:"checkbox",placeholder:"Windscreen",label:"Windscreen",name:"windscreen",help:{title:"Audio Windscreen",body:"Audio Windscreen lets users capture crystal-clear audio quality on their smartphone in less than ideal conditions. Sophisticated wind detection algorithms identify and automatically adjust suppression processing to suit the wind noise conditions. Clearer audio even when conditions aren’t."},rules:"required"},{type:"checkbox",placeholder:"Windscreen 2",label:"Windscreen",name:"windscreen2",help:{title:"Audio Windscreen",body:"Audio Windscreen lets users capture crystal-clear audio quality on their smartphone in less than ideal conditions. Sophisticated wind detection algorithms identify and automatically adjust suppression processing to suit the wind noise conditions. Clearer audio even when conditions aren’t."},rules:"required"}]},{type:"select",placeholder:"Select bitrate in kbps",label:"Bitrate (kbps)",name:"bitrate",rules:"required",clearable:!0,outlined:!0,data:[192,256,512]},{type:"file-open",placeholder:"Click to select WAV input file or drop file to icon",dropTitle:"Drop input WAV here",label:"Input WAV file for recording",name:"input",rules:"required",wavAudioRule:!0,clearable:!0,outlined:!0,loadingColor:"pink"},{type:"remote-file-save",placeholder:"Click to select location of the output MP4 file or drag file to icon",label:"Recording output MP4 file",name:"output2",rules:"required",clearable:!0,outlined:!0},{type:"file-data-query",placeholder:"Click to select the file or drag file to icon",label:"ID file",name:"id",rules:"required",selectPlaceholder:"Select ID",selectLabel:"Select ID",customPlaceholder:"Manually set the ID",customLabel:"Enter your ID",dataKey:"uuid",selectKey:"uuid",queryRule:"filequery",dividerEnd2:{label:"ID file end",class:"w-50 mb-10"},clearable2:!0,outlined2:!0},{type:"text",placeholder:"Enter notes",label:"Comments",name:"comments",rules:"required",clearable2:!0,outlined2:!0},{type:"file-open",placeholder:"Click to select location of the JSON file or drag file to icon",label:"JSON file",name:"output",rules:"required|jsonfile",fileObject:!0,clearable2:!0,outlined2:!0},{type:"checkbox",placeholder:"Windscreen",label:"Windscreen",name:"windscreen",help:{title:"Audio Windscreen",body:"Audio Windscreen lets users capture crystal-clear audio quality on their smartphone in less than ideal conditions. Sophisticated wind detection algorithms identify and automatically adjust suppression processing to suit the wind noise conditions. Clearer audio even when conditions aren’t."},rules:"required",dividerStart:{label:"Windscreen",class:"w-50 mb-8"},dividerEnd2:{label:"Windscreen",class:"",style:"top: -25px"},outlined:!0},{type:"text",placeholder:"Enter notes",label:"Comments",name:"comments2",rules:"required"},{type:"radio",name:"radio",label:"Radio selection",placeholder:"",data:[{label:"Option 1"},{label:"Option 2"}],help:{title:"Radio options",body:"Option 1 does this and Option 2 does that"},rules:"required",outlined:!0},{type:"switch",name:"switch",label:"",placeholder:"",display:["Off","On"],help:{title:"Switch",body:"On/off states allowed"},outlined:!0},{type:"text",placeholder:"Enter notes",label:"Comments",name:"comments2",rules:"required"},{type:"timeline",name:"timeline",label:"Focus events timeline",placeholder:"",maxZoom:15,outlined:!0,help:{title:"Timeline info",body:"Timeline events can be created"},timelineWidths:[{width:15,title:"Timeline 15sec"},{width:30,title:"Timeline 30sec"},{width:60,title:"Timeline 60sec"},{width:180,title:"Timeline 180sec"}],dataRelTarget:["input"],customSlots:["value","toolbar-left","toolbar-right","toolbar-right.add","edit-dialog"],tableConfig:{customColumns:["value"],headers:[...si,{text:"Value",align:"left",filterable:!1,sortable:!1,value:"value"}],actions:["edit","delete"],actionsConfig:{name:"Actions",width:"10%",align:"center"},dataFilter:{field:"type",types:[{type:oi.dir,display:oi.dir},{type:oi.switch,display:oi.switch}]}},accessMethods:{new(e){return e===oi.dir?{type:e,angle:0,zoom:0}:e===oi.switch?{type:e,value:!0}:{}},save(e,t){const i=e;i.type===oi.switch?i.value=t.value:i.type===oi.dir&&(i.angle=t.angle,i.zoom=t.zoom)}}}];var di=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.event.isDirection?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md text-left"},[e._v(" Direction: "),i("v-icon",{style:e.renderAzimuth()},[e._v("mdi-arrow-up")]),e._v(" "+e._s(e.event.data.angle)+" ")],1),i("div",{staticClass:"col-md text-left"},[e._v("Zoom: "+e._s(e.event.data.zoom)+"%")])]):e._e(),e.event.isOnOff?i("div",{domProps:{textContent:e._s(e.getOnOffValue())}}):e._e()])},ui=[];class pi{constructor(e){this._data=e}get data(){return this._data}get isDirection(){return this._data.type===oi.dir}get isOnOff(){return this._data.type===oi.switch}}const hi={props:{data:{type:Object,required:!0}},data(){return{event:new pi(this.data),onOffDisplay:["Off","On"]}},methods:{renderAzimuth(){return`transform: rotate(${-this.event.data.angle}deg)`},getOnOffValue(){return this.event.data.value?this.onOffDisplay[1]:this.onOffDisplay[0]}}};var mi={mixins:[hi]},fi=mi,vi=Object(ce["a"])(fi,di,ui,!1,null,null,null),gi=vi.exports,bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.event.isOnOff?i("div",[i("v-card-text",{staticClass:"p-0"},[i("switch-input",{staticClass:"ml-4 mb-0",attrs:{classes:"",placeholder:"",name:"",value:e.event.data.value,label:"",display:e.onOffDisplay},on:{input:function(t){return e.save({value:t})}}})],1)],1):e._e(),e.event.isDirection?i("wheel-input",{attrs:{name:"",label:"",placeholder:"",value:e.event.data,zoomtransform:1},on:{input:function(t){return e.save(t)}}}):e._e()],1)},yi=[],xi=i("c7a6"),_i=i("639e"),Di={mixins:[hi],components:{SwitchInput:xi["a"],WheelInput:_i["a"]},props:{save:{type:Function,required:!1}}},wi=Di,Ci=Object(ce["a"])(wi,bi,yi,!1,null,null,null),ki=Ci.exports,Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{key:e.componentKey,class:e.cls},[i("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid,n=t.valid;return[i("form",{staticClass:"pb-2"},[e._l(e.schema,(function(t,a){return i("draal-form-input",e._b({key:a,attrs:{value:e.formData[t.name]},on:{input:function(i,a){return e.updateForm(t.name,i,a)},"form-input-help":e.formInputHelp,"data-rel-update":e.registerUpdateHandler},scopedSlots:e._u([e._l(e.slotsDef,(function(t,i){return{key:t.childSlot,fn:function(a){var n=a.data;return[e._t(t.componentSlot,null,{inputKey:i,data:n})]}}}))],null,!0)},"draal-form-input",t,!1))})),i("div",{staticClass:"mt-3"},[e.options.submit?i("v-btn",{staticClass:"mr-2",attrs:{"data-dummyvalue":e.setDisabled(a,n),disabled:e.disabled,color:"primary"},on:{click:function(t){return e.$emit("submit",e.formData)}}},[e._v(e._s(e.options.submit))]):e._e(),e.options.clear?i("v-btn",{on:{click:e.clear}},[e._v(e._s(e.options.clear))]):e._e()],1)],2)]}}])}),i("draal-dialog",{attrs:{model:e.helpDialog,title:e.helpText.title,bodyCls:"text-left",maxWidth:"500"},on:{"close-dialog":function(t){e.helpDialog=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[i("v-card-text",{staticClass:"text-left",domProps:{innerHTML:e._s(e.helpText.body)}})]},proxy:!0}])})],1)},Ai=[],Oi=i("7bb1"),Ii=i("286b"),Ei={name:"DraalFormGenerator",components:{ValidationObserver:Oi["a"],DraalFormInput:Ii["default"],DraalDialog:wt["a"]},props:["schema","value","options","reset","cls"],data(){const e=[];return Object(it["j"])(e,this.schema,"","input","form"),{helpText:{title:null,body:null},helpDialog:!1,formData:this.value||{},componentKey:0,slotsDef:e,disabled:!1}},created(){this.dataRelHandlers={},this.setDisabled=Object(it["c"])(this._setDisabled,200)},destroyed(){this.setDisabled.cancel()},computed:{appLang:re["b"].appLang},watch:{appLang(){this.$refs.observer.validate()}},methods:{_setDisabled(e,t){this.disabled=e||!t},forceRendeder(){this.componentKey+=1},updateForm(e,t,i){this.$set(this.formData,e,t);const a=i||e;if(this.dataRelHandlers[a]){const e=Object.keys(this.dataRelHandlers[a]);e.forEach(e=>{const i=this.dataRelHandlers[a][e];i.forEach(e=>e(a,t))})}this.options.submit||this.sendFormData()},clear(){Object(it["h"])(this.schema,this.formData,"",this.reset),this.forceRendeder()},formInputHelp(e){const t=e.split(".");let i={schema:this.schema};for(let a=0;a<t.length;a++)i=Object(it["d"])(i.schema,t[a],"name");this.helpText=i.help,this.helpDialog=!0},registerUpdateHandler(e,t,i){t.forEach(t=>{this.dataRelHandlers[t]||(this.dataRelHandlers[t]={}),this.dataRelHandlers[t][e]||(this.dataRelHandlers[t][e]=[]),this.dataRelHandlers[t][e].push(i)})},sendFormData(){this.$emit("form-data",this.formData)}}},$i=Ei,Ti=(i("2ec7"),Object(ce["a"])($i,Si,Ai,!1,null,null,null)),qi=Ti.exports,ji=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("draal-tooltip",e._b({attrs:{name:e.tooltipText,icon:e.icon},on:{clicked:function(t){e.helpDialog=!0}}},"draal-tooltip",e.tooltipConfig,!1)),i("draal-dialog",{attrs:{model:e.helpDialog,title:e.dialogTitle,maxWidth:"750"},on:{"close-dialog":function(t){e.helpDialog=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[i("v-card-text",{staticClass:"text-left",domProps:{innerHTML:e._s(e.dialogContent)}})]},proxy:!0}])})],1)},Vi=[],Pi={name:"DraalIconDialog",components:{DraalTooltip:le["a"],DraalDialog:wt["a"]},props:{icon:{type:String,required:!1,default:"mdi-information-outline"},tooltipText:{type:String,required:!0},tooltipConfig:{type:Object,required:!1,default:()=>({position:"top"})},dialogTitle:{type:String,required:!0},dialogContent:{type:String,required:!0}},data(){return{helpDialog:!1}}},Ri=Pi,Mi=Object(ce["a"])(Ri,ji,Vi,!1,null,null,null),Li=Mi.exports,Fi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.tooltipText?i("draal-tooltip",{attrs:{name:e.tooltipText,position:e.tooltipPosition},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.on;return[i("div",e._g({staticClass:"float-left pointer-cursor",on:{click:function(t){e.fileDialog=!0}}},a),[e.drag?i("draal-file-drop",e._b({attrs:{cls:e.cls},on:{fileDrop:e.fileSelect}},"draal-file-drop",e.$attrs,!1)):i("v-icon",[e._v(e._s(e.icon))])],1)]}}],null,!1,3805745358)}):i("div",{staticClass:"float-left pointer-cursor",on:{click:function(t){e.fileDialog=!0}}},[e.drag?i("draal-file-drop",e._b({attrs:{cls:e.cls},on:{fileDrop:e.fileSelect}},"draal-file-drop",e.$attrs,!1)):i("v-icon",[e._v(e._s(e.icon))])],1),i("draal-file-dialog",e._b({on:{"file-select":e.fileSelect},model:{value:e.fileDialog,callback:function(t){e.fileDialog=t},expression:"fileDialog"}},"draal-file-dialog",e.attrs,!1))],1)},Ni=[],zi=i("fe10"),Ui={name:"DraalFileImport",components:{DraalFileDialog:zi["a"],DraalFileDrop:Gt["a"],DraalTooltip:le["a"]},props:{tooltipText:{type:String,required:!1,default:""},tooltipPosition:{type:String,required:!1,default:"top"},cls:{type:String,required:!1,default:""},multiple:{type:Boolean,required:!1,default:!1},drag:{type:Boolean,required:!1,default:!0}},data(){return{fileDialog:!1,attrs:this.getAttrs()}},computed:{icon(){return this.$attrs.icon||"mdi-import"}},methods:{getAttrs(){const e={};return this.multiple&&(e.multiple=!0),e},fileSelect(e){this.$emit("file-select",this.multiple?e:[e[0]])}}},Wi=Ui,Bi=Object(ce["a"])(Wi,Fi,Ni,!1,null,null,null),Hi=Bi.exports,Gi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("draal-tooltip",e._b({attrs:{name:e.tooltipText},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.on;return[i("draal-menu",e._g({attrs:{menuItems:e.menuItems,menuAttrs:e.menuAttrs,cbData:e.cbData},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.on;return[e._t("menu-entry",null,{tooltip:a,menu:i})]}},e.menuItems.length?null:{key:"menu-content",fn:function(t){var i=t.setVisibility;return[e._t("menu-content",null,{setVisibility:i})]}}],null,!0)},e.$listeners))]}}])},"draal-tooltip",e.tooltipAttrs,!1))},Zi=[],Ki=i("8317"),Yi={name:"DraalTooltipMenu",components:{DraalTooltip:le["a"],DraalMenu:Ki["a"]},props:{tooltipText:{type:String,required:!0},tooltipAttrs:{type:Object,required:!1,default:()=>{}},menuAttrs:{type:Object,required:!0},menuItems:{type:Array,required:!1,default:()=>[]},cbData:{required:!1,default:null}}},Ji=Yi,Qi=Object(ce["a"])(Ji,Gi,Zi,!1,null,null,null),Xi=Qi.exports,ea={components:{DraalSpinner:Dt["a"],DraalFormGenerator:qi,DraalIconDialog:Li,DraalFileImport:Hi,DraalTooltip:le["a"],DraalTooltipMenu:Xi,DraalEventData:gi,DraalEventDataEdit:ki},data(){const e=[...ci],t="large";e.forEach(e=>{"file-data-query"===e.type?e.dataQuery=this.dataQuery.bind(this):"timeline"===e.type&&(e.toolbarIconSize=t)});const i={a:"foo",b:[1,2,3]},a=new Blob([JSON.stringify(i,null,4)],{type:"application/json"}),n=URL.createObjectURL(a),r="test.json";return{linkUrl:n,linkDownload:r,timelineTypes:oi,data:null,processing:!1,formData:{device:null,bitrate:null,input:null,output:null,comment:null,windscreen:!1,timeline:[],row:{},radio:-1},options:{submit:this.$t("configuratorPage.createRec"),clear:this.$t("configuratorPage.clearForm")},schema:e,activePanel:0,fileDialog:!1,queryFailure:!1,toolIconAttrs:{position:"top",iconSize:t},timelineToolbarIcons:[{name:"Left",icon:"mdi-pan-left",value:90},{name:"Front",icon:"mdi-pan-up",value:0},{name:"Back",icon:"mdi-pan-down",value:180},{name:"Right",icon:"mdi-pan-left",value:-90}],menuPresets:[{title:"Preset 1",fn:e=>{this.iconClick(e,140)}}],menuAttrs:{[""+t]:!0}}},methods:Object(ee["a"])({},re["c"],{encode(e){console.log(e),this.activePanel=1},resetField(e){if("windscreen"===e)return!1},fileSelect(e){console.log("selected",e)},dataQuery(e){if(this.queryFailure){const t=5e3,i="Error in parsing file "+e.name;return this.addNotification(Ye.createError(i,{timeout:t})),this.queryFailure=!1,Object(ni["a"])([i])}return this.queryFailure=!0,Object(ri["a"])([{uuid:"UUID 1"},{uuid:"UUID 2"},{uuid:"UUID 3"},{uuid:"UUID 4"},{uuid:"UUID 5"},{uuid:"Set your own ID",custom:!0}]).pipe(Object(li["a"])(2500))},renderAzimuth(e){return`transform: rotate(${-e.angle}deg)`},iconClick(e,t){let i=e.add;const a=this.timelineTypes.dir,n=90;i(5,(e,i,r,l)=>{l({angle:t,zoom:n,position:e+.5*r,type:a})})},addEvent(e){let t=e.add,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi.dir;t(null,null,i)}})},ta=ea,ia=(i("cf8a"),Object(ce["a"])(ta,ii,ai,!1,null,"73fc6ce9",null)),aa=ia.exports,na=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("h1",[e._v("This is an about page")]),i("draal-nested-view",{staticClass:"w-25",attrs:{nodes:e.list}})],1)},ra=[],la=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-list",{staticStyle:{background:"inherit"}},[e._l(e.nodes,(function(t,a){return[t.children&&t.children.length?i("v-list-group",{key:a,model:{value:t.active,callback:function(i){e.$set(t,"active",i)},expression:"node.active"}},[i("v-list-item",{attrs:{slot:"activator"},on:{click:function(e){}},slot:"activator"},[i("v-list-item-title",{staticClass:"text-left"},[e._v(e._s(t.text))])],1),i("draal-nested-view",{staticClass:"py-0 pl-3",attrs:{nodes:t.children}})],1):i("v-list-item",{key:a,on:{click:function(e){e.preventDefault()}}},[i("v-list-item-title",{staticClass:"text-left"},[e._v(e._s(t.text))])],1)]}))],2)},sa=[],oa={name:"DraalNestedView",props:["nodes"]},ca=oa,da=(i("7c35"),Object(ce["a"])(ca,la,sa,!1,null,null,null)),ua=da.exports,pa={components:{DraalNestedView:ua},data(){return{list:[{text:"Foo",active:!1,children:[{text:"A",active:!1},{text:"B",active:!1},{text:"C",active:!1,children:[{text:"A",active:!1}]}]},{text:"Bar",active:!1},{text:"FooBar",active:!1},{text:"BarFoo",active:!1}]}}},ha=pa,ma=Object(ce["a"])(ha,na,ra,!1,null,null,null),fa=ma.exports,va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pr-4"},[i("h1",[e._v("Epsilon")]),e._m(0),i("draal-audio-player",{staticClass:"p-3 mb-4 w-75 mx-auto elevation-2",attrs:{name:e.url,url:e.url,events:e.eventPos},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.event;return[e._v("Position: "+e._s(i)+"s")]}}])})],1)},ga=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("img",{attrs:{src:i("cf05")}})])}],ba=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("audio",{ref:"audioplayer",attrs:{src:e.url}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col pb-0"},[i("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:e.color,disabled:!e.loaded},nativeOn:{click:function(t){e.playing?e.pause():e.play()}}},[!e.playing||e.paused?i("v-icon",[e._v("mdi-play")]):i("v-icon",[e._v("mdi-pause")])],1),i("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:e.color,disabled:!e.loaded},nativeOn:{click:function(t){return e.stop()}}},[i("v-icon",[e._v("mdi-stop")])],1),i("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:e.color,disabled:!e.loaded},nativeOn:{click:function(t){return e.mute()}}},[e.muted?i("v-icon",[e._v("mdi-volume-mute")]):i("v-icon",[e._v("mdi-volume-high")])],1),i("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:e.color,disabled:!e.loaded}},[i("a",{attrs:{href:e.url,download:e.name}},[i("v-icon",[e._v("mdi-download")])],1)])],1),i("div",{staticClass:"col mt-1 pb-0"},[i("v-slider",{attrs:{"prepend-icon":"mdi-volume-high",color:e.color,"track-color":e.volumeColor,min:0,max:1,step:"0.01"},on:{input:e.setVolume},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1)]),i("div",{staticClass:"float-right"},[e._v(e._s(e.getDisplayTime(e.audioPos*e.duration*.01))+" / "+e._s(e.renderDuration))]),i("v-progress-linear",{class:[{hover:e.playing}],attrs:{color:e.color,height:"10",disabled:!e.loaded},nativeOn:{click:function(t){return e.setPosition()}},model:{value:e.audioPos,callback:function(t){e.audioPos=t},expression:"audioPos"}}),i("div",{staticClass:"position-relative mt-3 mb-3 pb-3"},e._l(e.events,(function(t,a){return i("div",{key:a},[i("v-hover",{attrs:{"open-delay":"400"},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return[i("div",{staticClass:"audio-event-wrapper",style:e.getEventPosStyle(t)},[e._t("marker",[i("v-icon",{staticClass:"audio-event-marker",attrs:{color:e.color}},[e._v("mdi-map-marker")])]),r?i("div",{staticClass:"audio-event-hover position-absolute"},[e._t("event",[i("v-card",{staticClass:"p-1 z-index-10",attrs:{color:"grey lighten-4"}},[i("v-card-text",{staticClass:"p-1"},[i("div",{staticClass:"font-weight-light audio-event-text"},[e._t("item",[e._v(e._s(t))],{eventIndex:a,event:t})],2)])],1)],{eventIndex:a,event:t})],2):e._e()],2)]}}],null,!0)})],1)})),0)],1)},ya=[],xa={name:"DraalAudioPlayer",props:{url:{type:String,required:!0},name:{type:String,required:!0},color:{type:String,required:!1,default:"blue darken-1"},volumeColor:{type:String,required:!1,default:"light-blue lighten-3"},events:{type:Array,required:!1,default:()=>[]},fastSeekInc:{type:Number,required:!1,default:5},activator:{type:Object,required:!1},activeId:{type:Number,required:!1,default:0},initActivate:{type:Boolean,required:!1,default:!1}},data(){return{audioPos:0,playing:!1,paused:!1,loaded:!1,muted:!1,volume:.5,duration:0,renderDuration:null}},created(){this.cbMap={Space:e=>{e.preventDefault(),this.loaded&&(this.playing?this.stop():this.play())},ArrowRight:()=>{this.$refs.audioplayer.currentTime+=this.fastSeekInc},ArrowLeft:()=>{this.$refs.audioplayer.currentTime-=this.fastSeekInc}},this.timerId=null,this.active=!1},destroyed(){this.deactivate()},beforeDestroy(){clearInterval(this.timerId)},mounted(){this.$refs.audioplayer.ontimeupdate=e=>{let t=e.srcElement;this.audioPos=t.currentTime/t.duration*100,this.$emit("audio-position",t.currentTime,this.audioPos)},this.$refs.audioplayer.onloadeddata=()=>{this.$refs.audioplayer.readyState>=2&&(this.duration=this.$refs.audioplayer.duration,this.renderDuration=this.getDisplayTime(this.duration),this.$emit("audio-duration",this.duration),this.loaded=!0,this.$refs.audioplayer.volume=this.volume)},this.$refs.audioplayer.onended=()=>{this.playing=!1,this.paused=!1,this.audioPos=0},this.activeId&&this.activator?(this.initActivate&&this.activate(),this.activator.asPipe().subscribe(e=>{this.activeId!==e&&this.active?(this.deactivate(),this.$refs.audioplayer&&this.stop()):this.activeId!==e||this.active||this.activate()})):this.activate(),this.timerId=setInterval(this.updateplayPosition,100)},methods:{activate(){this.active||(window.addEventListener("keydown",this.keyDown),this.active=!0,this.activator&&this.activeId&&this.activator.send(this.activeId))},deactivate(){this.active&&(this.active=!1,window.removeEventListener("keydown",this.keyDown))},updateplayPosition(){this.$refs.audioplayer&&this.$refs.audioplayer.currentTime&&this.playing&&(this.audioPos=this.$refs.audioplayer.currentTime/this.duration*100)},setPosition(){this.$refs.audioplayer.currentTime=.01*this.duration*this.audioPos},play(){var e=this;return Object(Bt["a"])((function*(){e.playing||(!e.active&&e.activator&&e.activeId&&e.activate(),yield e.$refs.audioplayer.play(),e.playing=!0,e.paused=!1)}))()},pause(){this.paused=!this.paused,this.paused?this.$refs.audioplayer.pause():this.$refs.audioplayer.play()},stop(){this.$refs.audioplayer.pause(),this.paused=!0,this.playing=!1,this.$refs.audioplayer.currentTime=0,this.audioPos=0},mute(){this.muted=!this.muted,this.$refs.audioplayer.muted=this.muted},setVolume(e){this.$refs.audioplayer.volume=e,0===e?this.mute():this.muted&&(this.muted=!1,this.$refs.audioplayer.muted=!1)},getDisplayTime(e){let t=e,i=Math.floor(t/3600);t=e-3600*i;let a=Math.floor(t/60),n=parseInt((t%60).toFixed(0),10);60===n&&(n=0,a+=1),60===a&&(a=0,i+=1);const r=i<10?"0"+i:i,l=a<10?"0"+a:a,s=n<10?"0"+n:""+n;return`${r}:${l}:${s}`},getEventPosStyle(e){const t=e/this.duration*100;return`--left: ${t}%`},keyDown(e){this.cbMap[e.code]&&this.cbMap[e.code](e)}}},_a=xa,Da=(i("ecbf"),Object(ce["a"])(_a,ba,ya,!1,null,"cfc5d54c",null)),wa=Da.exports;const Ca="http://codeskulptor-demos.commondatastorage.googleapis.com/GalaxyInvaders/theme_01.mp3";var ka={name:"home",components:{DraalAudioPlayer:wa},data(){return{url:Ca,eventPos:[.5,2,10,70,45]}}},Sa=ka,Aa=Object(ce["a"])(Sa,va,ga,!1,null,null,null),Oa=Aa.exports,Ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{overflow:"auto"}},[i("canvas",{ref:"canvas"})]),i("div",{staticClass:"row p-4 clearfix"},[i("draal-file-import",{staticClass:"mx-auto",attrs:{"tooltip-text":"Import file","icon-color":"blue",icon:"mdi-folder-open"},on:{"file-select":e.fileSelect}})],1),i("div",{staticClass:"row p-4"},[i("draal-import",{staticClass:"mx-auto w-75",attrs:{label:"My exported audio","data-key":"name","tooltip-text":"Import audio meta","icon-color":"blue darken-2","icon-size":"large",data:e.importData},on:{"data-select":e.setAudioMetaData,"data-error":e.errorData,"data-array":e.setImportData}})],1),e.files.length?i("div",{staticClass:"w-75 mx-auto"},[e.exportFiles.length?i("draal-export",{attrs:{url:e.playlistExport,name:"Playlist_export.json"}},[i("v-btn",{attrs:{color:"primary"}},[e._v("Export audio playlist")])],1):e._e(),e._l(e.files,(function(t,a){return i("div",{key:t.$id,staticClass:"audio-playlist border p-2 m-2 elevation-1"},[i("draal-expand-item",{attrs:{"delete-action-attrs":e.toolbar.deleteAction,"export-action-attrs":e.toolbar.exportAction,"edit-tooltip":e.toolbar.editTooltip,"edit-label":e.toolbar.editLabel,title:t.title,"custom-actions":1},on:{delete:function(t){return e.deleteItem(a)},export:function(t){return e.setExportItem(a,t)},"export-name":function(t){return e.setExportName(a,t)},edit:e.exportEditing},model:{value:t.state,callback:function(i){e.$set(t,"state",i)},expression:"file.state"}},[i("div",{staticClass:"p-4",attrs:{slot:"content"},slot:"content"},[i("draal-audio-player",{attrs:{activator:e.playerActivator,"active-id":t.$id,name:t.url,url:t.url,"init-activate":0===a}})],1),i("template",{slot:"action-0"},[i("draal-icon-dialog",{attrs:{"tooltip-config":{position:"top","icon-size":"medium","open-delay":"500","close-delay":"250"},"tooltip-text":"Icon tooltip","dialog-title":"This is title "+a,"dialog-content":"This is content"}})],1)],2)],1)}))],2):e._e()])},Ea=[],$a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-left ml-2"},[i("div",[i("div",{staticClass:"float-left expand-title"},[e._v(e._s(e.name))]),e.exportVal?i("draal-tooltip-menu",{attrs:{"tooltip-text":e.editTooltip,menuAttrs:e.menuAttrs},on:{visibility:e.sendEditVisibilityEvent},scopedSlots:e._u([{key:"menu-entry",fn:function(t){var a=t.menu,n=t.tooltip;return[i("v-icon",e._g(e._b({staticClass:"ml-1 mt-2",attrs:{color:e.exportColor}},"v-icon",e.exportAttrs,!1),Object.assign({},a,n)),[e._v("mdi-border-color")])]}},{key:"menu-content",fn:function(t){var a=t.setVisibility;return[i("v-text-field",{staticClass:"p-3",attrs:{label:e.editLabel,clearable:"","hide-details":""},on:{input:function(t){return e.updateExportName()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[i("v-btn",{attrs:{slot:"append-outer",icon:""},on:{click:function(e){return a(!1)}},slot:"append-outer"},[i("v-icon",e._b({},"v-icon",e.exportAttrs,!1),[e._v("mdi-check")])],1)],1)]}}],null,!1,3239823607)}):e._e()],1)])],1),e.deleteActionAttrs?i("v-list-item-action",{staticClass:"mr-0"},[i("draal-tooltip",e._b({on:{clicked:function(t){return e.deleteEvent()}}},"draal-tooltip",e.deleteAttrs,!1))],1):e._e(),e.exportActionAttrs?i("v-list-item-action",{staticClass:"mr-0"},[i("draal-tooltip",e._b({attrs:{"icon-color":e.exportColor},on:{clicked:function(t){return e.exportEvent()}}},"draal-tooltip",e.exportAttrs,!1))],1):e._e(),e._l(e.customSlots,(function(t,a){return i("v-list-item-action",{key:a,staticClass:"mr-0 ml-0"},[e._t(t,null,{index:a})],2)})),i("v-list-item-action",{staticClass:"ml-0"},[i("v-btn",{attrs:{icon:""}},[e.show?i("v-icon",{attrs:{color:e.menuColor},on:{click:function(t){return e.changeState(!1)}}},[e._v(e._s(e.menuCloseIcon))]):i("v-icon",{attrs:{color:e.menuColor},on:{click:function(t){return e.changeState(!0)}}},[e._v(e._s(e.menuOpenIcon))])],1)],1)],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[i("v-expand-transition",[e._t("content")],2)],1)],1)},Ta=[],qa={name:"DraalExpandItem",components:{DraalTooltip:le["a"],DraalTooltipMenu:Xi},props:{title:{type:String,required:!0},menuOpenIcon:{type:String,required:!1,default:"mdi-menu-down"},menuCloseIcon:{type:String,required:!1,default:"mdi-menu-up"},menuColor:{type:String,required:!1,default:"grey darken-1"},deleteActionAttrs:{type:Object,required:!1,default:null},exportActionAttrs:{type:Object,required:!1,default:null},customActions:{type:Number,required:!1,default:0},value:{type:Boolean,required:!1,default:!1},export:{type:Boolean,required:!1,default:!1},editTooltip:{type:String,required:!1,default:""},editLabel:{type:String,required:!1,default:""}},data(){const e=[];for(let i=0;i<this.customActions;i++)e.push("action-"+i);const t={"close-on-content-click":!1,"offset-x":!0,"content-class":"bg-white","nudge-width":400};return{show:this.value,customSlots:e,deleteAttrs:this.setActionAttrs(this.deleteActionAttrs,"mdi-delete"),exportAttrs:this.setActionAttrs(this.exportActionAttrs,"mdi-export"),exportVal:this.export,name:this.title,menuAttrs:t}},watch:{value(e){this.show!==e&&(this.show=e)}},computed:{exportColor(){return this.exportVal?"blue":""}},methods:{changeState(e){this.show=e,this.$emit("input",this.show)},setActionAttrs(e,t){const i=Object(ee["a"])({},e);return i.icon||(i.icon=t),i.iconColor||i["icon-color"]||(i.iconColor="red"),i},updateExportName(){this.name=this.name||this.title,this.$emit("export-name",this.name)},deleteEvent(){this.$emit("delete")},exportEvent(){this.exportVal=!this.exportVal,this.$emit("export",this.exportVal)},sendEditVisibilityEvent(e){this.$emit("edit",e)}}},ja=qa,Va=Object(ce["a"])(ja,$a,Ta,!1,null,null,null),Pa=Va.exports,Ra=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{attrs:{href:e.url,download:e.name}},[e._t("default")],2)},Ma=[],La={name:"DraalExport",props:{name:{type:String,required:!0},url:{required:!0}}},Fa=La,Na=Object(ce["a"])(Fa,Ra,Ma,!1,null,null,null),za=Na.exports,Ua=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{key:e.counter},[i("select-input",{attrs:{placeholder:e.label,value:e.value,name:"name",data:e.importData,"data-key":e.dataKey,label:e.label,clearable:""},on:{input:e.setData}},[i("draal-file-import",{attrs:{slot:"append-outer","tooltip-text":e.tooltipText,"tooltip-position":e.tooltipPosition,"icon-size":e.iconSize,"icon-color":e.iconColor,icon:e.icon,multiple:!1},on:{"file-select":e.fileSelect},slot:"append-outer"})],1)],1)},Wa=[],Ba={name:"DraalImport",components:{SelectInput:St["a"],DraalFileImport:Hi},props:{label:{type:String,required:!0},dataKey:{type:String,required:!0},tooltipText:{type:String,required:!0},tooltipPosition:{type:String,required:!1,default:"top"},iconColor:{type:String,required:!0},iconSize:{type:String,required:!1,default:"medium"},icon:{type:String,required:!1,default:"mdi-import"},data:{type:Array,required:!0}},data(){return{counter:0,value:null,importData:this.data.map(e=>e)}},methods:{setData(e){this.$emit("data-select",e)},fileSelect(e){return Object(it["g"])(e[0]).then(e=>{const t=Array.isArray(e)?e:[e];this.counter+=1,this.importData.splice(0,this.importData.length),t.forEach(e=>this.importData.push(e)),this.$emit("data-array",this.importData)}).catch(t=>{this.$emit("data-error",e[0],t.message)})}}},Ha=Ba,Ga=Object(ce["a"])(Ha,Ua,Wa,!1,null,null,null),Za=Ga.exports,Ka={components:{DraalFileImport:Hi,DraalIconDialog:Li,DraalExpandItem:Pa,DraalAudioPlayer:wa,DraalExport:za,DraalImport:Za},data(){return{show:!1,dialog:!1,toolbar:{deleteAction:{name:this.$t("audioPage.deleteItem"),iconSize:"medium"},exportAction:{name:this.$t("audioPage.exportItem"),icon:"mdi-export",iconSize:"medium"},editTooltip:"Click to edit the export name",editLabel:"Export data name"},files:[],playerActivator:it["a"].createAsSubject(),playlistExport:null,importData:[]}},destroyed(){this.playerActivator.close()},mounted(){this.playerId=null,this.playerActivator.asPipe().subscribe(e=>{null!==e&&(this.playerId=e)}),this.canvas=this.$refs.canvas},computed:{exportFiles(){return this.files.filter(e=>e.export)}},methods:{errorData(e){console.log(e)},setAudioMetaData(e){console.log(e)},fileSelect(e){const t=Date.now();this.files.forEach(e=>{e.state=!1}),this.files.unshift({state:!0,title:e[0].name,name:e[0].name,url:URL.createObjectURL(e[0]),$id:t,export:!1}),Object(it["e"])(e[0],e=>{console.log(e);const t=[];for(let i=0;i<e.numberOfChannels;i++)t.push(e.getChannelData(i));this.audioPeaks({length:e.length,numberOfChannels:e.numberOfChannels,data:t})},console.log)},deleteItem(e){URL.revokeObjectURL(this.files[e].url),this.files.splice(e,1),this.exportPlaylist()},calculateAudioDataLength(e,t){let i=Math.floor(e/t);const a=e-i*t;return a>0&&(i+=1),i},audioPeaks(e){let t=e.data,i=e.length,a=e.numberOfChannels;const n=127,r=-128,l=1,s=180,o=[[],[]],c=[[],[]],d=new Array(a),u=new Array(a);for(let h=0;h<a;h++)d[h]=1/0,u[h]=-1/0;let p=0;for(let h=0;h<i;h++){for(let e=0;e<a;e++){const i=Math.floor(n*t[e][h]*l);i<d[e]&&(d[e]=i,d[e]<r&&(d[e]=r)),i>u[e]&&(u[e]=i,u[e]>n&&(u[e]=n))}if(p+=1,p===s){for(let e=0;e<a;e++)o[e].push(d[e]),c[e].push(u[e]),d[e]=1/0,u[e]=-1/0;p=0}}if(p>0)for(let h=0;h<a;h++)o[h].push(d[h]),c[h].push(u[h]);this.drawWaveform(o,c,1,o[0].length)},drawWaveform(e,t,i,a){const n=this.$refs.canvas;this.ctx=n.getContext("2d"),console.log(n.width,a),n.height=256,n.width=a,this.ctx.save(),this.ctx.clearRect(0,0,n.width,n.height),this.ctx.fillStyle="violet";const r=n.width,l=0,s=n.height;console.log(s,r,a,n,n.width,n.height);const o=(e,t)=>{const i=256,a=128;return t-(e+a)*t/i};for(let c=0,d=0;c<i;c++){let i,n;this.ctx.beginPath();let u=t[c];for(i=0,n=l;i<r&&n<a;i++,n++){const e=u[n];this.ctx.lineTo(i+.5,d+o(e,s)+.5)}for(console.log("x",i),u=e[c],i=r-1,n=l+r-1;i>=0;i--,n--){const e=u[n];this.ctx.lineTo(i+.5,d+o(e,s)+.5)}this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}this.ctx.restore()},setExportItem(e,t){this.files[e].export=t,this.exportPlaylist()},setExportName(e,t){this.files[e].name=t,this.exportPlaylist()},exportPlaylist(){URL.revokeObjectURL(this.playlistExport),this.playlistExport=Object(it["k"])(Object(it["i"])(this.exportFiles,["title","name"]))},exportEditing(e){const t=e?null:this.playerId;this.playerActivator.send(t)},setImportData(e){this.importData.splice(0,this.importData.length),e.forEach(e=>this.importData.push(e))}}},Ya=Ka,Ja=(i("8e20"),Object(ce["a"])(Ya,Ia,Ea,!1,null,null,null)),Qa=Ja.exports;a["a"].use(ut["a"]);const Xa={children:[Object(ee["a"])({},nt.routes[2].children[0],{component:jt})]};Xa.children[0].children[0].component=jt,Xa.children[0].children[0].children[0].component=jt;const en=[Object(ee["a"])({},nt.routes[0],{component:Oa}),Object(ee["a"])({},nt.routes[1],{component:aa}),Object(ee["a"])({},nt.routes[2],{component:yt},Xa),Object(ee["a"])({},nt.routes[3],{component:ti}),Object(ee["a"])({},nt.routes[4],{component:Qa}),Object(ee["a"])({},nt.routes[5],{component:fa}),{path:"*",redirect:"/"}],tn=new ut["a"]({routes:en,scrollBehavior(e,t,i){return i||{x:0,y:0}}});var an=tn;tn.beforeResolve((e,t,i)=>{t.name&&ht.a.start(),i()}),tn.afterEach(()=>ht.a.done()),tn.beforeEach((e,t,i)=>{tt.runCheck(),i()});var nn=i("2f62"),rn=i("2a74");a["a"].use(nn["a"]);const ln=new nn["a"].Store({modules:rn["default"],strict:!1});Object.keys(rn["default"]).forEach(e=>{rn["default"][e].actions&&rn["default"][e].actions.init&&ln.dispatch(e+"/init")});var sn=ln,on=i("4c93"),cn=i("a1d4");Object(Oi["c"])({defaultMessage:(e,t)=>Z.t("validation."+t._rule_,t)}),Object(Oi["d"])("required",on["a"]),Object.keys(cn["a"]).forEach(e=>Object(Oi["d"])(e,cn["a"][e])),a["a"].config.productionTip=!1;const dn=new a["a"]({router:an,store:sn,i18n:Z,render:e=>e(dt),vuetify:J}).$mount("#app");t["default"]=dn},"5c64":function(e,t,i){"use strict";i("d32a")},"5dc8":function(e,t,i){},"5e04":function(e,t,i){"use strict";i("cbe6")},"5ee6":function(e,t,i){},"5fe1":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.state?i("div",{class:e.type},[i("div",{staticClass:"spinner-loader",style:e.attrs}),e._t("spinner")],2):e._e(),e.state?e._e():e._t("default")],2)},n=[],r={name:"DraalSpinner",props:{type:{type:String,default:"spinner-1"},state:{type:Boolean,required:!1,default:!0},width:{type:String,required:!1,default:null},height:{type:String,required:!1,default:null}},data(){const e={};return this.width&&(e.width=this.width),this.height&&(e.height=this.height),{attrs:e}}},l=r,s=(i("5e04"),i("2877")),o=Object(s["a"])(l,a,n,!1,null,"18b83882",null);t["a"]=o.exports},6216:function(e,t,i){"use strict";i("35e5")},"639e":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"canvas-parent mx-auto "+e.classes,attrs:{role:"presentation"}},[i("canvas",{ref:"canvas",staticClass:"wheel",attrs:{width:"200",height:"200","data-dummyvalue":e.redraw}})])},n=[],r=(i("a481"),i("e466"));function l(e){let t=e||0;return 0!==t&&(t=(t/Math.PI*180+90)%360,t>180&&(t=-(360-t)),t=-Math.round(t)),t}function s(e){let t=-e;return t<-90&&t>-180&&(t=360+t),t=(t-90)/180*Math.PI,t}const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAP9JREFUaIHt181qg0AYheG312hLAi102eS2G0oXzaJ0maZJFnpAZAyaOH/lPOBGHP1eRheCmZmZmdlMa+AHeAeazLOEPAIfwDfwNHbRA/AFnLvjCDynmG6iF9qZNN+eduagfkhJMcOIM/B5bcEqsCB3TCjiyIRXvwEOg4UnYBNr0iu23bP7sxyY8f2WEHN3hOSMWSxCcsQsHiEpYzZEipAUMdEjJGZMsgiJEZM8QpaMyRYhYzFvM+6RPULuiSkmQm6JKS5C5sQUGyFTYoqPkFDMH/BKG1RFhIT+HX4D53L/40wS2plqdmJoLKaqCBnGVBkhDbDrjmojzMzMzOyfuADt1u6qCjWuFwAAAABJRU5ErkJggg==",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAPdJREFUaIHt171qwzAUhuE316iGFFroaPe2U0oHZwgZXbfNEB9og5TGv0eC7wEtRjLnRZNARERERMRZAN76FZxnGS0ALfDTr5YCY64jioxJRRQV8wR0/B28Az4j356dZvxX7Ca+gQp4Ab4o4GZSEfWvPVX/LduYeyJMtjFDIkx2MWMiTDYxUyKMe8wcEabGKWbOCLN6zBIRZrWYJSPM4jFrRJjFYlIRr1N/fMPsMR4RZrYYzwgzOSaHCDM6JhB/T3i+HVJvnN2tQx+RAzk8gGIxTWrzBjiQX4S5jmm4zBy1BY7AO/CwxnQDBWAPnIBH51lEREREpDRnAC3uql0XROkAAAAASUVORK5CYII=",d=71,u=95,p=95,h=25,m=[{x:u,y:h,r:10,fill:"#0c64e8"}],f=[{x:u,y:p,r:70,fill:"blue",lineWidth:5}];var v={name:"WheelInput",extends:r["a"],props:{zoomtransform:{type:Number,required:!1,default:5}},data(){return{dragOk:!1,startX:0,startY:0,ctx:null,canvas:null,offsetX:0,offsetY:0}},computed:{redraw(){if(this.ctx){this.unregisterEvents(),m[0].x=u,m[0].y=h;const e=s(this.fieldValue&&this.fieldValue.angle||0),t=Math.round(d*Math.cos(e)),i=Math.round(d*Math.sin(e));m[0].x=u+t,m[0].y=p+i,m[0].angle=e,this.startRender()}return null},zoomGain(){return this.zoomtransform}},mounted(){const e=(this.fieldValue&&this.fieldValue.zoom||0)/this.zoomGain;this.zoomLevel=parseFloat(e,10),this.img1Loaded=!1,this.imageDown=new Image,this.imageDown.onload=()=>{this.img1Loaded=!0,this.draw()},this.imageDown.src=o,this.img2Loaded=!1,this.imageUp=new Image,this.imageUp.onload=()=>{this.img2Loaded=!0,this.draw()},this.imageUp.src=c,this.mouseDown=this.myDown.bind(this),this.mouseUp=this.myUp.bind(this),this.mouseMove=this.myMove.bind(this),this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d")},beforeDestroy(){this.unregisterEvents()},methods:{unregisterEvents(){this.canvas.removeEventListener("mousedown",this.mouseDown),this.canvas.removeEventListener("mouseup",this.mouseUp),this.canvas.removeEventListener("mousemove",this.mouseMove)},registerEvents(){this.canvas.addEventListener("mousedown",this.mouseDown),this.canvas.addEventListener("mouseup",this.mouseUp),this.canvas.addEventListener("mousemove",this.mouseMove)},circle(e){this.ctx.fillStyle="rgba(0, 0, 255, 0.2)",this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r+10,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill(),this.ctx.fillStyle=e.fill,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill()},draw(){this.ctx.save(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),f.forEach(e=>{this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r,0,2*Math.PI),this.ctx.lineWidth=e.lineWidth,this.ctx.strokeStyle=e.fill,this.ctx.stroke()}),this.img2Loaded&&this.ctx.drawImage(this.imageUp,70,40),this.img1Loaded&&this.ctx.drawImage(this.imageDown,70,100),this.ctx.font=this.ctx.font.replace(/\d+px/,"16px"),this.ctx.fillText(`Zoom ${this.zoomLevel}%`,60,100),this.circle(m[0]),this.ctx.restore()},myDown(e){const t=this.canvas.getBoundingClientRect();this.offsetX=t.left,this.offsetY=t.top;const i=parseInt(e.clientX-this.offsetX,10),a=parseInt(e.clientY-this.offsetY,10);this.dragOk=!1;const n=m[0],r=n.x-i,l=n.y-a,s=Math.sqrt(r*r+l*l);if(s<n.r){const e=Math.atan2(l,r),t=Math.round(10*Math.cos(e)),s=Math.round(10*Math.sin(e));this.dragOk=!0,n.offsetX=t,n.offsetY=s,this.startX=i,this.startY=a}i>70&&i<120&&(a>50&&a<70&&this.updateZoom(10),a>120&&a<140&&this.updateZoom(-10))},myUp(){this.dragOk&&(this.dragOk=!1,this.setValues(m[0]))},myMove(e){if(this.dragOk){const t=parseInt(e.clientX-this.offsetX,10)-m[0].offsetX,i=parseInt(e.clientY-this.offsetY,10)-m[0].offsetY;let a=t-u,n=i-p;const r=Math.atan2(n,a),l=Math.cos(r),s=Math.sin(r);a=Math.round(d*l),n=Math.round(d*s);const o=m[0];o.x=u+a,o.y=p+n,o.angle=r,this.draw(),this.startX=a+u,this.startY=n+p}},startRender(){this.registerEvents(),this.draw()},setValues(e){this.fieldValue={zoom:this.zoomLevel*this.zoomGain,angle:l(e.angle)},this.inputChangeEvent()},updateZoom(e){this.zoomLevel+=e,this.zoomLevel<0&&(this.zoomLevel=100),this.zoomLevel>100&&(this.zoomLevel=0),this.zoomLevel=parseFloat(this.zoomLevel.toFixed(3),10),this.setValues(m[0]),this.draw()}}},g=v,b=(i("8ad5"),i("2877")),y=Object(b["a"])(g,a,n,!1,null,"68aee849",null);t["a"]=y.exports},"67f2":function(e,t,i){"use strict";i("6e82")},"6b8a":function(e,t,i){"use strict";i("a26f")},"6d74":function(e,t,i){"use strict";i("ac6a");var a=i("bc3a"),n=i.n(a),r=i("d3fb"),l=i("5e53"),s=i("3fab"),o=i("ebb6"),c=i("f59d");class d{constructor(){this.network=n.a}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.execute("get",[e,t],i)}uploadFiles(e,t,i){const a={headers:{"Content-Type":"multipart/form-data"}};i&&(a.onUploadProgress=i);const n=new FormData,r=Array.isArray(t)?t:[t];return r.forEach((e,t)=>n.append(`files[${t}]`,e)),this.execute("post",[e,n,a])}execute(e,t,i){const a=this.network[e](...t);return Object(r["a"])(a).pipe(Object(s["a"])(),Object(o["a"])(e=>i&&i.fullResponse?e:e.data),Object(c["a"])(e=>Object(l["a"])(e.response)))}}const u=new d;t["a"]=u},"6e82":function(e,t,i){},"779a":function(e,t,i){"use strict";i.r(t),i.d(t,"mutations",(function(){return a})),i.d(t,"getters",(function(){return n})),i.d(t,"actions",(function(){return r})),i.d(t,"state",(function(){return l}));const a={ADD_NOTIFICATION(e,t){e.notifications.push(t)},REMOVE_NOTIFICATION(e,t){e.notifications=e.notifications.filter(e=>!(e.id===t.id))}},n={appNotifications(e){return e.notifications}},r={addNotification(e,t){let i=e.commit,a=e.dispatch;i("ADD_NOTIFICATION",t),t.timeout&&setTimeout(()=>a("removeNotification",t),t.timeout)},removeNotification(e,t){let i=e.commit;i("REMOVE_NOTIFICATION",t)}},l={notifications:[]}},"7c35":function(e,t,i){"use strict";i("b80c")},8317:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-menu",e._b({scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e._t("default",[e.iconAttrs&&e.iconAttrs.icon?i("v-icon",e._g(e._b({},"v-icon",e.iconAttrs,!1),a),[e._v(e._s(e.iconAttrs.icon))]):e._e()],{on:a,setVisibility:e.setVisibility})]}}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-menu",e.menuAttrs,!1),[e._t("menu-content",[e.menuItems.length?i("v-list",e._l(e.menuItems,(function(t,a){return i("v-list-item",{key:a,on:{click:function(i){return t.fn(e.cbData)}}},[i("v-list-item-title",{staticClass:"text-left draal-menu-action-title"},[e._v(e._s(t.title))])],1)})),1):e._e()],{setVisibility:e.setVisibility})],2)},n=[],r={name:"DraalMenu",props:{menuAttrs:{type:Object,required:!0},menuItems:{type:Array,required:!0},iconAttrs:{type:Object,required:!1,default:()=>{}},cbData:{required:!1,default:null}},data(){return{value:!1}},watch:{value(e){this.$emit("visibility",e)}},methods:{setVisibility(e){this.value=e}}},l=r,s=(i("6216"),i("2877")),o=Object(s["a"])(l,a,n,!1,null,"12029a2a",null);t["a"]=o.exports},"87e3":function(e,t,i){},"8ad5":function(e,t,i){"use strict";i("a31e")},"8e20":function(e,t,i){"use strict";i("f9c6")},9125:function(e,t,i){"use strict";i("e287")},"934e":function(e,t,i){"use strict";i("aee7")},9814:function(e,t,i){},"9d90":function(e,t,i){},a1d4:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));const a={params:["target"],validate(e,t){let i=t.target;return i>0&&e.endsWith(".wav")}},n={validate(e){return e.endsWith(".json")}},r={params:["selected","custom"],validate(e,t){let i=t.selected,a=t.custom;return!(!e||!i||i.custom)||!!(e&&i&&!0===i.custom&&a&&a.length>0)}},l={wavaudio:a,jsonfile:n,filequery:r}},a210:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[e.autocomplete?i("v-autocomplete",e._b({class:e.classes,attrs:{"error-messages":a,label:e.label,items:e.data,placeholder:e.placeholder,"item-text":e.dataKey},on:{input:e.inputChangeEvent},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"v-autocomplete",Object.assign({},e.attrs,e.inputAttrs),!1),[i("template",{slot:"append-outer"},[e._t("append-outer",[e.help?i("input-help",{on:{"form-input-help":e.inputHelpEvent}}):e._e()])],2),i("template",{slot:"prepend"},[e._t("prepend")],2)],2):i("v-select",e._b({class:e.classes,attrs:{"error-messages":a,label:e.label,items:e.data,placeholder:e.placeholder,"item-text":e.dataKey},on:{input:e.inputChangeEvent},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},"v-select",Object.assign({},e.attrs,e.inputAttrs),!1),[i("template",{slot:"append-outer"},[e._t("append-outer",[e.help?i("input-help",{on:{"form-input-help":e.inputHelpEvent}}):e._e()])],2),i("template",{slot:"prepend"},[e._t("prepend")],2)],2)]}}],null,!0)})},n=[],r=i("e466"),l=i("4d42"),s={name:"SelectInput",extends:r["a"],props:{data:l["c"],dataKey:l["d"],autocomplete:{type:Boolean,required:!1,default:!1}},data(){const e=this.dataKey?{"return-object":!0}:{};return{attrs:e}}},o=s,c=i("2877"),d=Object(c["a"])(o,a,n,!1,null,null,null);t["a"]=d.exports},a26f:function(e,t,i){},a31e:function(e,t,i){},a856:function(e,t,i){"use strict";i("5ee6")},aee7:function(e,t,i){},af1c:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-1 pt-1 elevation-3"},[i("div",{staticClass:"clearfix mb-0 pb-0 ml-3"},e._l(e.getDataTypesFilter(),(function(t,a){return i("checkbox-input",{key:a,attrs:{classes:"float-left mr-2 mt-0 mb-0",placeholder:"",label:t.display,name:"",value:e.filterStatus[a]},on:{input:function(i){return e.setDataFilter(i,t.type,a)}}})})),1),i("v-data-table",e._b({staticClass:"p-3 pt-0",attrs:{search:e.search,headers:e.tableHeaders,items:e.filteredData},on:{"click:row":e.clickAction},scopedSlots:e._u([e._l(e.customRender,(function(t,i){return{key:t.child,fn:function(a){var n=a.item;return[e._t(t.parent,null,{colunmKey:i,data:n})]}}})),e.hasExpand?{key:"expanded-item",fn:function(t){var a=t.headers,n=t.item;return[i("td",{attrs:{colspan:a.length}},[e._t("table.expand",null,{data:n})],2)]}}:null,e.actions.length?{key:"item.$action",fn:function(t){var a=t.item;return[e.hasAction("edit")?i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"pink"},on:{click:function(t){return e.editAction(a)}}},[i("v-icon",{attrs:{dark:""}},[e._v("mdi-border-color")])],1):e._e(),e.hasAction("delete")?i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"pink"},on:{click:function(t){return e.deleteAction(a)}}},[i("v-icon",{attrs:{dark:""}},[e._v("mdi-delete-forever")])],1):e._e()]}}:null],null,!0)},"v-data-table",e.attrs,!1))],1)},n=[],r=i("3835"),l=i("be94"),s=(i("ac6a"),i("1f68")),o={name:"DraalDataTable",components:{CheckboxInput:s["a"]},props:{data:{type:Array,required:!1,default:()=>[]},headers:{type:Array,required:!0},customColumns:{type:Array,required:!1,default:()=>[]},actionsConfig:{type:Object,required:!1,default:()=>{}},actions:{type:Array,required:!1,default:()=>[]},expand:{type:String,required:!1,default:null},tableAttributes:{type:Object,required:!1,default:()=>{}},search:{type:String,required:!1,default:null},dataFilter:{type:Object,required:!1,default:null},dataFiltering:{type:Array,required:!1,default:()=>[]}},data(){const e=[];if(this.headers.forEach(t=>e.push(t)),this.actions.length){const t=Object(l["a"])({text:this.actionsConfig.name,value:"$action",sortable:!1,filterable:!1},this.actionsConfig);e.push(t)}this.expand&&e.push({text:this.expand,value:"data-table-expand"});const t=this.data.map((e,t)=>{const i=Object(l["a"])({},e,{$clicked:!1,$index:t});return i}),i=[],a=this.getDataTypesFilter(),n=a.map(()=>!0),r=this.dataFiltering;return r.forEach((e,t)=>{const l=t<r.length?r[t]:0===r.length;n[t]=l,l||i.push(a[t].type)}),{tableHeaders:e,tableData:t,attrs:this.getAttrs(),filterStatus:n,filterData:i}},computed:{customRender(){return this.customColumns.map(e=>({child:"item."+e,parent:"table."+e}))},hasExpand(){return this.expand},filteredData(){return this.filterData.length?this.getFilteredData():this.tableData}},methods:{getFilteredData(){const e=this.dataFilter.field;return this.tableData.filter(t=>-1===this.filterData.indexOf(t[e]))},getDataTypesFilter(){return this.dataFilter&&this.dataFilter.types||[]},getAttrs(){const e={};return this.expand&&(e["show-expand"]=!0),Object.entries(this.tableAttributes).forEach(t=>{let i=Object(r["a"])(t,2),a=i[0],n=i[1];e[a]=n}),e},hasAction(e){return this.actions.filter(t=>t===e).length},editAction(e){this.$emit("data-edit",e.$index)},deleteAction(e){this.$emit("data-delete",e.$index)},clickAction(e){this.tableData.forEach(e=>{e.$clicked=!1}),e.$clicked=!0,this.$emit("row-click",e.$index)},setDataFilter(e,t,i){this.filterStatus[i]=e;const a=this.filterData.indexOf(t);e&&a>-1?this.filterData.splice(a,1):e||-1!==a||this.filterData.push(t),this.$emit("data-filter",this.filterData,this.filterStatus)}}},c=o,d=i("2877"),u=Object(d["a"])(c,a,n,!1,null,null,null);t["a"]=u.exports},b222:function(e,t,i){"use strict";i("5334")},b80c:function(e,t,i){},b935:function(e,t,i){var a={"./app.js":"d9cd","./index.js":"2a74","./notification.js":"779a"};function n(e){var t=r(e);return i(t)}function r(e){var t=a[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id="b935"},beb3:function(e,t,i){},c0b8:function(e,t,i){},c25a:function(e,t,i){"use strict";i("9d90")},c48d:function(e,t,i){"use strict";i("3e8b")},c7a6:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-wrapper-outer",class:e.classes},[i("ValidationProvider",{attrs:{name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.required;return[i("div",{class:e.getOutlinedClasses("field-wrapper",a,n)},[i("div",{class:e.getOutlinedClasses("field-content",a,n)},[i("v-switch",{staticClass:"draal-switch",class:e.classes,attrs:{light:"",value:e.fieldValue,label:e.display[e.fieldValue?1:0],"error-messages":a},on:{change:e.inputChangeEvent},model:{value:e.fieldValue,callback:function(t){e.fieldValue=t},expression:"fieldValue"}},[e.help?i("input-help",{attrs:{slot:"append"},on:{"form-input-help":e.inputHelpEvent},slot:"append"}):e._e()],1)],1)])]}}])})],1)},n=[],r=i("e466"),l={name:"SwitchInput",extends:r["a"],props:{display:{type:Array,required:!0}}},s=l,o=(i("ce5d"),i("2877")),c=Object(o["a"])(s,a,n,!1,null,"1822b2fe",null);t["a"]=c.exports},cbe6:function(e,t,i){},ce5d:function(e,t,i){"use strict";i("36cf")},cf05:function(e,t,i){e.exports=i.p+"img/logo.82b9c7a5.png"},cf8a:function(e,t,i){"use strict";i("2f6e")},d32a:function(e,t,i){},d634:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"d",(function(){return c})),i.d(t,"c",(function(){return d}));var a=i("be94"),n=i("2f62");const r="app",l="notification",s=Object(a["a"])({},Object(n["c"])(r,["newAppVersionAvailable","appVersion","appLang","getTimelineLength"])),o=Object(n["b"])(r,["checkVersion","reloadApp","setLang","saveTimelineLength"]),c=Object(a["a"])({},Object(n["c"])(l,["appNotifications"])),d=Object(n["b"])(l,["addNotification","removeNotification"])},d9cd:function(e,t,i){"use strict";i.r(t),i.d(t,"mutations",(function(){return l})),i.d(t,"getters",(function(){return s})),i.d(t,"actions",(function(){return o})),i.d(t,"state",(function(){return c}));var a=i("1da1"),n=i("6d74"),r=i("30a4");const l={SET_LANG(e,t){const i=t.instance;i.locale=t.lang,e.lang=t.lang},SET_VERSION(e,t){e.appVersion.localRef=t.localRef,e.appVersion.reload=t.reload},SAVE_TIMELINELENGTH(e,t){let i=t.id,a=t.length;e.timelineLen[i]=a}},s={newAppVersionAvailable(e){return e.appVersion.reload},appVersion(e){return e.appVersion.localRef},appLang(e){return e.lang},getTimelineLength:e=>t=>e.timelineLen[t]},o={checkVersion(e){let t=e.commit,i=e.state;r["a"].getAppMeta().subscribe(e=>{let a=!1;null!==i.appVersion.localRef&&e.version!==i.appVersion.localRef&&(a=!0);const n=a?i.appVersion.localRef:e.version;t("SET_VERSION",{localRef:n,reload:a})},()=>{})},reloadApp(e){let t=e.commit,i=e.state;t("SET_VERSION",{localRef:i.appVersion.localRef,reload:!1}),window.location.reload(!0)},setLang(e,t){return Object(a["a"])((function*(){let i=e.commit;const a=t.instance,r=t.lang;if(r in a.messages)i("SET_LANG",t);else{const e={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},l=Object({NODE_ENV:"production",VUE_APP_IEXAPI_TOKEN:"pk_dfa9a54a893a45a3be266ef83ebc3c9a",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_IS_ELECTRON:"false",BASE_URL:"/"}).PUBLIC_PATH||"";n["a"].get(`${l}locales/${r}.json`,e).subscribe(e=>{a.setLocaleMessage(r,e),i("SET_LANG",t)})}}))()},saveTimelineLength(e,t){let i=e.commit;i("SAVE_TIMELINELENGTH",t)}},c={appVersion:{localRef:null,reload:!1},lang:null,timelineLen:{}}},dba3:function(e,t,i){"use strict";i("06c8")},de36:function(e,t,i){"use strict";i("beb3")},e287:function(e,t,i){},e466:function(e,t,i){"use strict";i("ac6a");var a,n,r=i("7bb1"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-icon",{on:{click:function(t){return e.$emit("form-input-help")}}},[e._v("mdi-information-outline")])},s=[],o={name:"InputHelp"},c=o,d=i("2877"),u=Object(d["a"])(c,l,s,!1,null,null,null),p=u.exports,h=i("4d42"),m=i("a1d4"),f=i("eaf8"),v={name:"BaseInput",components:{ValidationProvider:r["b"],InputHelp:p},props:{placeholder:h["k"],label:h["h"],name:h["i"],value:h["m"],rules:h["l"],help:h["g"],classes:h["a"],clearable:h["b"],outlined:h["j"],draggingColor:h["e"],debounce:{type:Number,required:!1,default:250}},data(){return{loading:!1,dragging:!1,overlay:!1,fieldValue:this.value,inputAttrs:this.getInputAttrs()}},created(){const e=Object.keys(m["a"]).filter(e=>this.rules.indexOf(e)>-1);this.customValidation=e.length>0,this.inputChangeEvent=Object(f["c"])(this._inputChangeEvent,this.debounce)},destroyed(){this.inputChangeEvent.cancel()},methods:{inputHelpEvent(){this.$emit("form-input-help",this.name)},_inputChangeEvent(e){this.customValidation&&this.validateInput(),this.$emit("input",e||this.fieldValue)},isRequired(e){return!!e&&!this.fieldValue},isRequiredRadio(e){const t=this.fieldValue<0||null===this.fieldValue||void 0===this.fieldValue;return!!e&&t},validateInput(){setTimeout(this.$refs.provider.validate,0)},getInputAttrs(){const e={};return this.clearable&&(e.clearable=!0),this.outlined&&(e.outlined=!0),e},getOutlinedStyle(){return"--position: 5px"},getOutlinedClasses(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"radio";const n="radio"===a?this.isRequiredRadio:this.isRequired,r=this.outlined?[e]:[];return t.length||n(i)?r.push("error--text"):r.push("primary--text"),r},setDragging(e){this.dragging=e,this.loading=!!e&&this.draggingColor,this.$emit("dragging",this.dragging)},drop(e){return e.preventDefault(),this.setDragging(!1),this.onDrop(e.dataTransfer.files),!1}}},g=v,b=Object(d["a"])(g,a,n,!1,null,null,null);t["a"]=b.exports},e4f6:function(e,t,i){"use strict";i("9814")},e6de:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-tooltip",e._b({scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[e._t("default",null,{on:a}),e.icon?i("v-btn",e._g({class:e.classes,attrs:{icon:""}},a),[i("v-icon",e._b({on:{click:function(t){return e.$emit("clicked")}}},"v-icon",e.iconAttrs,!1),[e._v(e._s(e.icon))])],1):e._e(),e.link?i("a",e._g({class:e.classes,attrs:{href:e.linkUrl,download:e.linkDownload}},a),[e._v(e._s(e.link))]):e._e()]}}],null,!0)},"v-tooltip",e.tooltipAttrs,!1),[i("span",[e._v(e._s(e.name))])])},n=[],r={name:"DraalTooltip",props:{name:{type:String,required:!0},position:{type:String,required:!1,default:"top"},classes:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:""},iconSize:{type:String,required:!1,default:"x-large"},iconColor:{type:String,required:!1,default:null},link:{type:String,required:!1,default:null},linkDownload:{type:String,required:!1,default:null},linkUrl:{type:String,required:!1,default:null}},computed:{tooltipAttrs(){return this.position?{[""+this.position]:!0}:{}},iconAttrs(){const e=this.iconSize,t=this.iconColor,i={[""+e]:!0};return t&&(i.color=t),i}}},l=r,s=i("2877"),o=Object(s["a"])(l,a,n,!1,null,null,null);t["a"]=o.exports},eaf8:function(e,t,i){"use strict";var a=i("3835");i("ac6a"),i("a481"),i("6b54"),i("3b2b");const n={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"purple",36:"cyan",37:"white"};function r(e){const t="</span>";let i=e;return Object.keys(n).forEach(e=>{const t=`<span style="color: ${n[e]}">`;i=i.replace(new RegExp(`\\[${e}m`,"g"),t).replace(new RegExp(`\\[0;${e}m`,"g"),t)}),i=i.replace(/\x1b\[1m/g,"<b>").replace(/\x1b\[22m/g,"</b>"),i=i.replace(/\x1b\[3m/g,"<i>").replace(/\x1b\[23m/g,"</i>"),i=i.replace(/\x1b\[0m/g,t),i=i.replace(/\x1b\[39m/g,t),i}function l(e,t,i){const a=new FileReader;a.onload=e=>{const a=new(window.AudioContext||window.webkitAudioContext);a.decodeAudioData(e.target.result).then(t).catch(i)},a.readAsArrayBuffer(e)}var s=i("ade3"),o=i("5364"),c=i("9bd1"),d=i("2bd2"),u=i("8ef6");class p{static createAsSubject(){return new p(new d["a"])}constructor(e){Object(s["a"])(this,"observable",void 0),h.set(this,{writable:!0,value:!1}),m.set(this,{writable:!0,value:null}),Object(c["a"])(this,m,e),this.observable=Object(o["a"])(this,m).asObservable()}asPipe(){return this.observable.pipe(Object(u["a"])(()=>!1===Object(o["a"])(this,h)))}close(){Object(c["a"])(this,h,!0)}send(e){Object(o["a"])(this,m).next(e)}}var h=new WeakMap,m=new WeakMap;function f(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}function v(e,t,i){let a,n,r,l,s,o,c=0,d=!1,u=!1,p=!0;const h=+t||0;function m(t){const i=a,r=n;return n=void 0,a=n,c=t,l=e.apply(r,i),l}function v(e,t){return setTimeout(e,t)}function g(e){clearTimeout(e)}function b(e){const t=e-o,i=e-c;return void 0===o||t>=h||t<0||u&&i>=r}function y(e){return s=void 0,p&&a?m(e):(n=void 0,a=n,l)}function x(e){const t=e-o,i=e-c,a=h-t;return u?Math.min(a,r-i):a}function _(){const e=Date.now();return b(e)?y(e):(s=v(_,x(e)),s)}function D(e){return c=e,s=v(_,h),d?m(e):l}function w(){void 0!==s&&g(s),c=0,s=void 0,a=void 0,o=void 0,n=void 0}function C(){return void 0===s?l:y(Date.now())}function k(){return void 0!==s}function S(){const e=Date.now(),t=b(e);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];if(a=r,n=this,o=e,t){if(void 0===s)return D(o);if(u)return s=v(_,h),m(o)}return void 0===s&&(s=v(_,h)),l}return f(i)&&(d=!!i.leading,u="maxWait"in i,r=u?Math.max(+i.maxWait||0,h):r,p="trailing"in i?!!i.trailing:p),S.cancel=w,S.flush=C,S.pending=k,S}function g(){return!1}function b(e,t,i){for(let a=0;a<e.length;a++){const n=e[a][i];if(n===t)return e[a]}return null}function y(e,t,i,a){for(let n=0;n<e.length;n++){const r=e[n].name;e[n].schema?y(e[n].schema,t[r],`${i}${r}.`,a):Array.isArray(t[r])?t[r].splice(0,t[r].length):t[r]=a(`${i}${r}`)}}function x(e,t,i,a,n){t.forEach(t=>{if(t.schema&&t.schema.length)x(e,t.schema,`${i}${t.name}.`,a,n);else{const r=t.customSlots||[];r.forEach(r=>e.push({childSlot:`${a}.${i}${t.name}.${r}`,componentSlot:`${n}.${i}${t.name}.${r}`}))}})}function _(e){return new Promise((t,i)=>{const a=new FileReader;a.onload=e=>{try{t(JSON.parse(e.target.result))}catch(a){i(a)}},a.onerror=i,a.readAsText(e)})}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Array.isArray(e)?e:[e];let n=t.length?[]:i;if(t.length&&i.forEach(e=>{const i={};t.forEach(t=>{i[t]=e[t]}),n.push(i)}),!Array.isArray(e)){var r=n,l=Object(a["a"])(r,1);n=l[0]}return JSON.stringify(n,null,4)}function w(e){const t=new Blob([e],{type:"application/json"});return URL.createObjectURL(t)}i.d(t,"f",(function(){return g})),i.d(t,"d",(function(){return b})),i.d(t,"h",(function(){return y})),i.d(t,"j",(function(){return x})),i.d(t,"g",(function(){return _})),i.d(t,"i",(function(){return D})),i.d(t,"k",(function(){return w})),i.d(t,"b",(function(){return r})),i.d(t,"e",(function(){return l})),i.d(t,"a",(function(){return p})),i.d(t,"c",(function(){return v}))},ecbf:function(e,t,i){"use strict";i("87e3")},edd4:function(e){e.exports={header:{selectLanguage:"Change language",languageSelections:[{title:"Finnish",lang:"fi"}],newVersion:"New version available, click to reload"},audioPage:{deleteItem:"Delete",exportItem:"Mark audio meta data for export"},configuratorPage:{title:"Form creation",confPanelTitle:"Create form using schema",createRec:"Submit",clearForm:"Clear",newDirection:"New direction event",newSwitch:"New switch event"},dogApiPage:{quickHelp:"Quick help",helpContentTitle:"Quick help",helpContent:"See dog images for various breeds. For certain group of dogs also the sub-breed should be selected from the second dropdown list.",breedPlaceHolder:"Select breed",breedLabel:"Dog breed",subBreedPlaceHolder:"Select sub-breed",subBreedLabel:"Dog sub-breed"},fileUtils:{title:"Media file summary",text:"Extract media file info. Drop media file to icon"},form:{remoteInputDropTitle:"Drop file here"},timeline:{unsaved:"Unsaved changes",save:"Save changes",new:"New event",zoomin:"Zoom in",zoomout:"Zoom out",lengthMenu:"Set timeline length",info:"Quick info"},$vuetify:{badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}}},validation:{alpha:"The {_field_} field may only contain alphabetic characters",alpha_num:"The {_field_} field may only contain alpha-numeric characters",alpha_dash:"The {_field_} field may contain alpha-numeric characters as well as dashes and underscores",alpha_spaces:"The {_field_} field may only contain alphabetic characters as well as spaces",between:"The {_field_} field must be between {min} and {max}",confirmed:"The {_field_} field confirmation does not match",digits:"The {_field_} field must be numeric and exactly contain {length} digits",dimensions:"The {_field_} field must be {width} pixels by {height} pixels",email:"The {_field_} field must be a valid email",excluded:"The {_field_} field is not a valid value",ext:"The {_field_} field is not a valid file",image:"The {_field_} field must be an image",integer:"The {_field_} field must be an integer",length:"The {_field_} field must be {length} long",max_value:"The {_field_} field must be {max} or less",max:"The {_field_} field may not be greater than {length} characters",mimes:"The {_field_} field must have a valid file type",min_value:"The {_field_} field must be {min} or more",min:"The {_field_} field must be at least {length} characters",numeric:"The {_field_} field may only contain numeric characters",oneOf:"The {_field_} field is not a valid value",regex:"The {_field_} field format is invalid",required_if:"Required",required:"Required",size:"The {_field_} field size must be less than {size}KB",wavaudio:"Not a valid WAV file",jsonfile:"Not a JSON file",filequery:"Fill all required information below"}}},f9c6:function(e,t,i){},fd20:function(e,t,i){"use strict";i("c0b8")},fe10:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.icon?i("v-icon",{attrs:{color:e.color},on:{click:e.openDialog}},[e._v(e._s(e.icon))]):e._e(),i("input",e._b({ref:"fileDialog",staticClass:"d-none",attrs:{type:"file"},on:{click:e.clicked,change:e.selected}},"input",e.attrs,!1))],1)},n=[],r={name:"DraalFileDialog",props:{icon:{type:String,required:!1,default:null},color:{type:String,required:!1,default:""},value:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1}},data(){return{open:this.value,attrs:this.getAttrs()}},created(){this.onfocus=null},watch:{value(e){e&&this.openDialog()}},methods:{getAttrs(){const e={};return this.multiple&&(e.multiple=!0),e},updateState(e){this.open=e,this.$emit("input",this.open)},openDialog(){this.$refs.fileDialog.click(),this.updateState(!0)},clicked(){this.onfocus=document.body.onfocus,document.body.onfocus=this.canceled},canceled(){this.updateState(!1),document.body.onfocus=this.onfocus},selected(e){this.sendEvent(this.getFiles(e)),this.updateState(!1),this.$refs.fileDialog.value=""},getFiles(e){return e.target.files},sendEvent(e){this.$emit("file-select",e)}}},l=r,s=i("2877"),o=Object(s["a"])(l,a,n,!1,null,null,null);t["a"]=o.exports}});