webpackJsonp([1],{663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(19),r=n(739),s=n(743),a=n(747),c=n(750),u=n(303),p=n(305),l=[{path:"",component:u.AppEmptyViewComponent,children:[{path:p.AUTHROUTES.register.url,component:r.RegisterComponent},{path:p.AUTHROUTES.login.url,component:s.LoginComponent},{path:p.AUTHROUTES.logout.url,component:a.LogoutComponent},{path:p.AUTHROUTES.activate.url,component:c.ActivateComponent}]}],d=function(){function e(){}return e=__decorate([o.NgModule({imports:[u.DraalFormsModule,u.DraalWidgetsCoreModule,i.RouterModule.forChild(l)],declarations:[s.LoginComponent,a.LogoutComponent,c.ActivateComponent,r.RegisterComponent]})],e)}();t.DraalAppPagesAuthModule=d},691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(113))},739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(740))},740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(27),r=n(303),s=n(741),a=n(26),c=n(48),u=function(){function e(e,t,n){this.store=e,this.alertService=t,this.api=n,this.model=new r.FormModel,this.model.addInputs(s.RegisterConfig.formConfig)}return e.prototype.register=function(e){var t=this;this.api.register(e).subscribe(function(){var e=new c.GoAction({path:[c.RouteManager.resolveByName("home-view")]});t.store.dispatch(e),t.alertService.success(s.RegisterConfig.onSuccessMsg)})},e=__decorate([o.Component({selector:"dng-register",template:n(742)}),__metadata("design:paramtypes",[i.Store,a.AlertService,a.ApiService])],e)}();t.RegisterComponent=u},741:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterConfig={onSuccessMsg:"Check your email! An activation link has been sent to the email address you supplied,\n    along with instructions for activating your account.",formConfig:[{email:{type:"text",label:"Email",placeholder:"Enter your email",validators:[{name:"required"}]}},{password:{type:"password",label:"Password",placeholder:"Enter password",validators:[{name:"required"}]}},{password2:{type:"password",label:"Confirm Password",placeholder:"Confirm password",validators:[{name:"required"}],groupvalidators:[{name:"compare",fields:["password","password2"],message:"Passwords do not match"}],validationmessages:{ondirty:!0}}}]}},742:function(e,t){e.exports='<div class="container col-md-6 col-md-offset-3">\n  <h2>Sign Up</h2>\n  <dng-form [model]="model" submitLabel="Create account" (submitter)="register($event)"></dng-form>\n</div>\n'},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(744))},744:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(19),r=n(27),s=n(6),a=n(304),c=n(303),u=n(745),p=n(48),l=n(26),d=n(112),m=n(691),f=n(33),h=function(){function e(e,t,n){this.store=e,this.route=t,this.api=n,this.unsubscribe=new s.Subject}return e.prototype.ngOnInit=function(){var e=this;this.returnUrl=this.route.snapshot.queryParams.returnUrl||p.RouteManager.resolveByName("home-view"),this.model=new c.FormModel,this.model.addInputs(u.LoginConfig.formConfig),this.store.select(d.getUserAuthenticationStatus).pipe(a.takeUntil(this.unsubscribe),a.filter(function(e){return e})).subscribe(function(){return e.store.dispatch(new p.GoAction({path:[e.returnUrl]}))})},e.prototype.ngOnDestroy=function(){},e.prototype.login=function(e){var t=this;this.api.sendBackend("login",e).subscribe(function(e){t.store.dispatch(new m.AuthenticateAction(e))})},e=__decorate([o.Component({selector:"dng-login",template:n(746)}),f.AutoUnsubscribe(["unsubscribe"]),__metadata("design:paramtypes",[r.Store,i.ActivatedRoute,l.ApiService])],e)}();t.LoginComponent=h},745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginConfig={formConfig:[{email:{type:"text",label:"Username",placeholder:"Enter username (4 characters at minimum)",validators:[{name:"required"},{name:"minlength",value:4}]}},{password:{type:"password",label:"Password",placeholder:"Enter password (length between 4-10 characters)",validators:[{name:"required"},{name:"password"},{name:"minlength",value:4},{name:"maxlength",value:10}]}}]}},746:function(e,t){e.exports='<div class="container col-md-6 col-md-offset-3">\n  <h2>Sign In</h2>\n  <dng-form [model]="model" submitLabel="Sign in" (submitter)="login($event)"></dng-form>\n</div>\n'},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(748))},748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(27),r=n(26),s=n(48),a=n(691),c=function(){function e(e,t,n){this.store=e,this.api=t,this.appEvents=n}return e.prototype.dispatch=function(e){var t=new s.GoAction({path:[s.RouteManager.resolveByName(e)]});this.store.dispatch(t)},e.prototype.ngOnInit=function(){var e=this;this.api.sendBackend("logout",null).subscribe(function(){e.store.dispatch(new a.LogoutSuccessAction),e.dispatch("login-view"),e.appEvents.sendEvent(r.AppEventTypes.LOGOUT)},function(){e.dispatch("home-view")})},e=__decorate([o.Component({selector:"dng-logout",template:n(749)}),__metadata("design:paramtypes",[i.Store,r.ApiService,r.AppEventsService])],e)}();t.LogoutComponent=c},749:function(e,t){e.exports='<dng-spinner><p class="text-center">Signing out, please wait...</p></dng-spinner>\n'},750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(751))},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(19),r=n(27),s=n(752),a=n(26),c=n(48),u=function(){function e(e,t,n,o){this.store=e,this.alertService=t,this.api=n,this.route=o;var i=this.route.snapshot.params.activationkey;this.activate({activationkey:i})}return e.prototype.dispatch=function(e){var t=new c.GoAction({path:[c.RouteManager.resolveByName(e)]});this.store.dispatch(t)},e.prototype.activate=function(e){var t=this;this.api.sendBackend("account-activation",e).subscribe(function(){t.dispatch("login-view"),t.alertService.success(s.ActivateConfig.onSuccessMsg)},function(){t.dispatch("home-view")})},e=__decorate([o.Component({selector:"dng-activate",template:'<dng-spinner><p class="text-center">Activating account, please wait...</p></dng-spinner>'}),__metadata("design:paramtypes",[r.Store,a.AlertService,a.ApiService,i.ActivatedRoute])],e)}();t.ActivateComponent=u},752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivateConfig={onSuccessMsg:"Your account has been activated. You can now login."}}});
//# sourceMappingURL=1.9d99ead63827c8b9dd27.chunk.js.map