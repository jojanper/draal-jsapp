webpackJsonp([2],{"+k8A":function(e,t){e.exports='<div class="container col-md-6 col-md-offset-3">\n  <h2>Sign Up</h2>\n  <dng-form [model]="model" submitLabel="Create account" (submitter)="register($event)"></dng-form>\n</div>\n'},EqiU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("WT6e"),o=n("bfOx"),a=n("dyjq"),i=n("J+2U"),s={onSuccessMsg:"Check your email! An activation link has been sent to the email address you supplied,\n    along with instructions for activating your account.",formConfig:[{email:{type:"text",label:"Email",placeholder:"Enter your email",validators:[{name:"required"}]}},{password:{type:"password",label:"Password",placeholder:"Enter password",validators:[{name:"required"}]}},{password2:{type:"password",label:"Confirm Password",placeholder:"Confirm password",validators:[{name:"required"}],groupvalidators:[{name:"compare",fields:["password","password2"],message:"Passwords do not match"}],validationmessages:{ondirty:!0}}}]},c=n("fwo/"),l=n("mddE"),p=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n){this.store=e,this.alertService=t,this.api=n,this.model=new i.k,this.model.addInputs(s.formConfig)}return e.prototype.register=function(e){var t=this;this.api.register(e).subscribe(function(){var e=new l.a({path:[l.b.resolveByName("home-view")]});t.store.dispatch(e),t.alertService.success(s.onSuccessMsg)})},e=p([Object(r.n)({selector:"dng-register",template:n("+k8A")}),u("design:paramtypes",[a.b,c.a,c.b])],e)}(),f=n("g5jc"),h=n("l5y7"),m=[{email:{type:"text",label:"Username",placeholder:"Enter username (4 characters at minimum)",validators:[{name:"required"},{name:"minlength",value:4}]}},{password:{type:"password",label:"Password",placeholder:"Enter password (length between 4-10 characters)",validators:[{name:"required"},{name:"password"},{name:"minlength",value:4},{name:"maxlength",value:10}]}}],b=n("QEWS"),g=n("z8zO"),y=n("AjDN"),v=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(){function e(e,t,n){this.store=e,this.route=t,this.api=n,this.unsubscribe=new f.a}return e.prototype.ngOnInit=function(){var e=this;this.returnUrl=this.route.snapshot.queryParams.returnUrl||l.b.resolveByName("home-view"),this.model=new i.k,this.model.addInputs(m),this.store.select(b.b).pipe(Object(h.i)(this.unsubscribe),Object(h.e)(function(e){return e})).subscribe(function(){return e.store.dispatch(new l.a({path:[e.returnUrl]}))})},e.prototype.ngOnDestroy=function(){},e.prototype.login=function(e){var t=this;this.api.sendBackend("login",e).subscribe(function(e){t.store.dispatch(new g.a(e))})},e=v([Object(r.n)({selector:"dng-login",template:n("JLuS")}),Object(y.b)(["unsubscribe"]),w("design:paramtypes",[a.b,o.a,c.b])],e)}(),O=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},R=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(){function e(e){this.store=e}return e.prototype.ngOnInit=function(){this.store.dispatch(new g.b)},e=O([Object(r.n)({selector:"dng-logout",template:n("wji2")}),R("design:paramtypes",[a.b])],e)}(),P="Your account has been activated. You can now login.",S=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},k=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},x=function(){function e(e,t,n,r){this.store=e,this.alertService=t,this.api=n,this.route=r;var o=this.route.snapshot.params.activationkey;this.activate({activationkey:o})}return e.prototype.dispatch=function(e){var t=new l.a({path:[l.b.resolveByName(e)]});this.store.dispatch(t)},e.prototype.activate=function(e){var t=this;this.api.sendBackend("account-activation",e).subscribe(function(){t.dispatch("login-view"),t.alertService.success(P)},function(){t.dispatch("home-view")})},e=S([Object(r.n)({selector:"dng-activate",template:'<dng-spinner><p class="text-center">Activating account, please wait...</p></dng-spinner>'}),k("design:paramtypes",[a.b,c.a,c.b,o.a])],e)}(),q=n("r4KJ");n.d(t,"DraalAppPagesAuthModule",function(){return A});var D=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},E=[{path:"",component:i.b,children:[{path:q.a.register.url,component:d},{path:q.a.login.url,component:j},{path:q.a.logout.url,component:_},{path:q.a.activate.url,component:x}]}],A=function(){function e(){}return e=D([Object(r.J)({imports:[i.h,i.i,o.h.forChild(E)],declarations:[j,_,x,d]})],e)}()},JLuS:function(e,t){e.exports='<div class="container col-md-6 col-md-offset-3">\n  <h2>Sign In</h2>\n  <dng-form [model]="model" submitLabel="Sign in" (submitter)="login($event)"></dng-form>\n</div>\n'},wji2:function(e,t){e.exports='<dng-spinner><p class="text-center">Signing out, please wait...</p></dng-spinner>\n'}});